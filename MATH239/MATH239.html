<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <title>MATH239 | Anthony Zhang</title>
  <style type="text/css">
  body {
    font-family: "Segoe UI", Verdana, Arial, Helvetica, sans-serif;
    background: #fffefe;
    padding: 5em;
  }
  
  pre {
    margin-left: 2em;
  }
  
  code {
    border: solid 1px black;
    background: #665555;
    color: white;
    padding: 0.1em;
    border-radius: 0.3em;
    display: inline-block;
  }
  
  pre code {
    padding: 1em;
    border-radius: 0.5em;
  }
  
  h1 {
    font-size: 4em;
  }
  
  table {
    margin: 0 auto;
  }
  
  td, th {
    padding: 0.5em;
    border: 1px solid grey;
  }
  
  tr {
    padding:: 0;
  }
  
  blockquote {
    margin-left: 0;
    padding-left: 0.5em;
    border-left: solid 0.3em grey;
  }
  
  .figure {
    border: solid 0.1em grey;
    display: inline-block;
    padding: 1em;
    text-align: center;
  }
  
  .figure .caption {
    margin: 0;
    font-size: 80%;
  }
  
  a.button {
    display: inline-block;
    padding: 1em;
    font-family: monospace;
    color: black;
    text-decoration: none;
    border: 0.2em solid black;
    border-radius: 0.5em;
    background: white;
  }
  
  a.button:hover, a.button:focus, a.button:active {
    background: black;
    color: white;
  }
  </style>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
</head>
<body>
<a class="button" href="..">&#8666; Return to University Notes index</a>
<h1 id="math239">MATH239</h1>
<p>Combinatorics.</p>
<pre><code>Instructor: Martin Pei
Office: MC 6492
Email: mpei@uwaterloo.ca, martin31415926@gmail.com</code></pre>
<p><span class="math">\[
\newcommand{\set}[1]{\left\{ #1 \right\}}
\newcommand{\tup}[1]{\left\langle #1 \right\rangle}
\newcommand{\abs}[1]{\left\lvert #1 \right\rvert}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\mb}[1]{\mathbb{#1}}
\newcommand{\rem}{\operatorname{rem}}
\newcommand{\sign}{\operatorname{sign}}
\newcommand{\imag}{\boldsymbol{i}}
\newcommand{\dee}{\mathop{}\!\mathrm{d}}
\newcommand{\lH}{\overset{\text{l&#39;H}}{=}}
\newcommand{\evalat}[1]{\left.\left(#1\right)\right|}
\newcommand{\sech}{\operatorname{sech}}
\newcommand{\spn}{\operatorname{Span}}
\newcommand{\proj}{\operatorname{proj}}
\newcommand{\prp}{\operatorname{perp}}
\newcommand{\refl}{\operatorname{refl}}
\newcommand{\magn}[1]{\left\lVert #1 \right\rVert}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\sys}[2]{\left[ #1 \mid #2\hskip2pt \right]}
\newcommand{\range}{\operatorname{Range}}
\newcommand{\adj}{\operatorname{adj}}
\newcommand{\cof}{\operatorname{cof}}
\newcommand{\diag}{\operatorname{diag}}
\newcommand{\formlp}{\operatorname{Form}(\mathcal{L}_P)}
\]</span></p>
<h1 id="section">5/5/14</h1>
<h2 id="enumeration">Enumeration</h2>
<h3 id="sets-and-combinatorics">Sets and Combinatorics</h3>
<p>Combinatorics is a discrete mathematics. Topics include enumeration (counting) and graph theory.</p>
<p>The <strong>size/cardinality</strong> of a set <span class="math">\(A\)</span> is denoted <span class="math">\(\abs{A}\)</span>. It is the number of elements it contains, if it is finite, and some other things if it is infinite.</p>
<p><span class="math">\([n]\)</span> is the set of all positive integers from 1 to <span class="math">\(n\)</span>, inclusive.</p>
<p>The <strong>Cartesian product</strong> of two sets <span class="math">\(A\)</span> and <span class="math">\(B\)</span> is <span class="math">\(A \times B = \set{(a, b) \middle| a \in A, b \in B}\)</span>. In other words, it is the set of all pairs of elements from both sets. This can easily be extended to more than two sets: <span class="math">\(A \times B \times C\)</span>.</p>
<p>Also, <span class="math">\(A^k = A \times \ldots \times A\)</span> (<span class="math">\(k\)</span> times). Also, <span class="math">\(A^0 = \set{()}\)</span> - the set containing the empty tuple.</p>
<p>If <span class="math">\(A\)</span> and <span class="math">\(B\)</span> are finite, then <span class="math">\(\abs{A \times B} = \abs{A}\abs{B}\)</span>.</p>
<p>Consider all possible results of throwing two six-sided dice:</p>
<blockquote>
<p>Clearly, the set of all possible results for each die is <span class="math">\([6]\)</span> and <span class="math">\([6]\)</span>.<br />So the set of all possible results of both die is <span class="math">\([6] \times [6] = \set{(a, b) \middle| a, b \in [6]}\)</span>.</p>
</blockquote>
<p>Find the number of possible binary strings of length <span class="math">\(n\)</span>:</p>
<blockquote>
<p>Clearly, each digit in the string is of the set <span class="math">\(\set{0, 1}\)</span>, and there are <span class="math">\(n\)</span> digits.<br />Clearly, the number of possiblities are <span class="math">\(\abs{\set{0, 1} \times \ldots \times \set{0, 1}}\)</span> (<span class="math">\(n\)</span> times), or <span class="math">\(2^n\)</span>.<br />The set of possible binary strings is therefore <span class="math">\(\set{0, 1}^n\)</span>.</p>
</blockquote>
<p>Let <span class="math">\(S  = A \cup B\)</span>. If <span class="math">\(A \cap B = \emptyset\)</span>, then <span class="math">\(\abs{S} = \abs{A} + \abs{B}\)</span>. In other words, if two sets share nothing in common, then their disjunction has a size equal to the sum of their sizes.</p>
<p>We could say that the Cartesian product is analogous to multiplcation, and disjunction is analogous to addition.</p>
<h3 id="permutations">Permutations</h3>
<p>A <strong>permutation</strong> is the rearrangement of the elements of <span class="math">\([n]\)</span> - an ordered set. For example, all permutations of <span class="math">\([3]\)</span> are <span class="math">\(\set{1, 2, 3}, \set{1, 3, 2}, \set{2, 1, 3}, \set{2, 3, 1}, \set{3, 1, 2}, \set{3, 2, 1}\)</span>.</p>
<p>In general, <span class="math">\([n]\)</span> has <span class="math">\(n!\)</span> permutations. We find these permutations by picking each of the <span class="math">\(n\)</span> elements for the first position, and for each of these, we pick each of the <span class="math">\(n - 1\)</span> remaining elements for the second, and for each of these, we pick each of the <span class="math">\(n - 2\)</span> remaining elements for the third, and so on.</p>
<p>For example, find the permutations of <span class="math">\(\set{1, 2, 3}\)</span></p>
<blockquote>
<p>First, we choose 1 as the first position, so the remaining elements are <span class="math">\(\set{2, 3}\)</span>.<br />Now we choose each of 2 and 3 for the second position, to yield the permutations <span class="math">\(\set{1, 2, 3}\)</span> and <span class="math">\(\set{1, 3, 2}\)</span>.<br />Second, we choose 2 as the first position, so the remaining elements are <span class="math">\(\set{1, 3}\)</span>.<br />Now we choose each of 1 and 3 for the second position, to yield the permutations <span class="math">\(\set{2, 1, 3}\)</span> and <span class="math">\(\set{2, 3, 1}\)</span>.<br />Third, we choose 3 as the first position, so the remaining elements are <span class="math">\(\set{1, 2}\)</span>.<br />Now we choose each of 1 and 2 for the second position, to yield the permutations <span class="math">\(\set{3, 1, 2}\)</span> and <span class="math">\(\set{3, 2, 1}\)</span>.</p>
</blockquote>
<p>Every permutation is also a bijection, mapping elements from <span class="math">\([n]\)</span> into a different set. Formally, <span class="math">\(\sigma: [n] \to [n]\)</span>. For example, the permutation <span class="math">\(\set{2, 3, 1}\)</span> maps <span class="math">\(\set{A, B, C}\)</span> to <span class="math">\(\set{B, C, A}\)</span>. In other words, it behaves something like a function.</p>
<h3 id="combinations">Combinations</h3>
<p>A <strong>combination</strong> is a possible way of &quot;choosing&quot; <span class="math">\(k\)</span> elements of a set <span class="math">\([n]\)</span>, where <span class="math">\(k \le n\)</span>. In other words, it is a subset of size <span class="math">\(k\)</span> of the set <span class="math">\([n]\)</span>.</p>
<p>A subset of size <span class="math">\(k\)</span> is known as a <span class="math">\(k\)</span>-subset. A permutation of a <span class="math">\(k\)</span>-subset is a <span class="math">\(k\)</span>-permutation, and a combination of a <span class="math">\(k\)</span>-subset is a <span class="math">\(k\)</span>-combination.</p>
<p>We find these subsets by basically taking the first <span class="math">\(k\)</span> elements of each permutation. We then get the set containing all the possible <span class="math">\(k\)</span>-permutations, but each one is duplicated <span class="math">\((n - k)!\)</span> times because there are that many that start with those particular <span class="math">\(k\)</span> elements and are followed by all permutations of the remaining elements.</p>
<p>Therefore, there are <span class="math">\(\frac{n!}{(n - k)!}\)</span> <span class="math">\(k\)</span>-permutations of <span class="math">\([n]\)</span>. Clearly, each <span class="math">\(k\)</span>-combination corresponds to <span class="math">\(k!\)</span> <span class="math">\(k\)</span>-permutations, because combinations are basically permutations without order.</p>
<p>So the number of <span class="math">\(k\)</span>-combinations is a factor of <span class="math">\(k!\)</span> less than the number of <span class="math">\(k\)</span>-permutations, and is given by <span class="math">\(\frac{n!}{k!(n - k)!}\)</span>.</p>
<p>In general, <span class="math">\([n]\)</span> has <span class="math">\(\frac{n!}{k!(n - k)!}\)</span> combinations of size <span class="math">\(k\)</span>. This can be represented by <span class="math">\(n \choose k\)</span>. If <span class="math">\(n &lt; k\)</span>, we define <span class="math">\({n \choose k} = 0\)</span>.</p>
<h1 id="section-1">7/5/14</h1>
<p>;wip: midterm on July 3</p>
<h2 id="bijections">Bijections</h2>
<p>A <strong>bijection</strong> is a function that maps a set <span class="math">\(S\)</span> to another set <span class="math">\(T\)</span>, and is one to one and onto.</p>
<p>One to one means that the function has a unique element of <span class="math">\(T\)</span> for every value of <span class="math">\(S\)</span> - no two things in <span class="math">\(S\)</span> are mapped to the same element of <span class="math">\(T\)</span>. It is possible that <span class="math">\(T\)</span> is larger than <span class="math">\(S\)</span>, so <span class="math">\(\abs{T} \ge \abs{S}\)</span>.</p>
<p>Onto means that the function has a unique element of <span class="math">\(S\)</span> for every value of <span class="math">\(T\)</span> - every thing in <span class="math">\(T\)</span> must also have an element in <span class="math">\(S\)</span> that maps to it. Because there must be one element in <span class="math">\(S\)</span> for every element of <span class="math">\(T\)</span>, so <span class="math">\(\abs{S} \ge \abs{T}\)</span>.</p>
<p>A bijection is therefore a function that maps a set's elements to the elements of another set of the same size. Every element in either set has a unique corresponding element in the other set.</p>
<p>It is often tedious to prove that it is one to one and onto. We can prove a function is a bijection very easily, by proving that it has an inverse.</p>
<h3 id="bijection-inverse-theorem">Bijection Inverse Theorem</h3>
<p>Proposition: a function is a bijection if and only if it has an inverse.</p>
<p>The <strong>inverse</strong> of <span class="math">\(f: S \to T\)</span> is a function <span class="math">\(f^{-1}\)</span> such that x S, f^{-1}(f(x)) = x$ and <span class="math">\(\forall y \in T, f(f^{-1}(y)) = y\)</span>. It is basically a reverse mapping backwards from <span class="math">\(T\)</span> to <span class="math">\(S\)</span>.</p>
<p>For example, let <span class="math">\(S\)</span> be the set of all <span class="math">\(k\)</span>-subsets of <span class="math">\([n]\)</span> and <span class="math">\(T\)</span> be the set of all <span class="math">\((n - k)\)</span>-subsets of <span class="math">\([n]\)</span>:</p>
<blockquote>
<p>If <span class="math">\(n = 3, k = 1\)</span>, then <span class="math">\(S = \set{\set{1}, \set{2}, \set{3}}, T = \set{\set{1, 2}, \set{1, 3}, \set{2, 3}}\)</span>.<br />One bijection over these sets would be <span class="math">\(f: S \to T\)</span> where <span class="math">\(f(A) = [n] \setminus A\)</span>. This is a bijection because it maps every item in <span class="math">\(S\)</span> to a unique item in <span class="math">\(T\)</span>, with no items in <span class="math">\(T\)</span> left over.<br />Also, since <span class="math">\(\abs{A} = k\)</span> and <span class="math">\(A \subseteq [n]\)</span>, <span class="math">\(\abs{f(A)} = \abs{[n]} - \abs{A} = n - k\)</span>, as required.<br />Clearly, <span class="math">\(f^{-1}(B) = [n] \setminus B\)</span>. Since the function has an inverse, <span class="math">\(f\)</span> is a bijection and <span class="math">\(\abs{S} = \abs{T} = {n \choose k} = {n \choose n - k}\)</span>.<br />As an aside, we proved that <span class="math">\({n \choose k} = {n \choose n - k}\)</span>.</p>
</blockquote>
<p>Another example would be a mapping <span class="math">\(f: S \to T\)</span> where <span class="math">\(S\)</span> is all the subsets of <span class="math">\([n]\)</span> and <span class="math">\(T\)</span> is all binary strings of length <span class="math">\(n\)</span>:</p>
<blockquote>
<p>An obvious bijection would be to map all the subsets to binary strings such that each digit is 1 if and only if the index of that digit is in the set.<br />Formally, we would write that as <span class="math">\(f(A) = a_n \cdots a_1, a_i = \begin{cases} 1 &amp;\text{if } i \in A \\ 0 &amp;\text{if } i \notin A \end{cases}, i \in [n]\)</span>.<br />We can also prove this is a bijection by finding its inverse: <span class="math">\(f^{-1}(a_n \cdots a_1) = \set{i \in [n] \middle| a_i = 1}\)</span>.<br />Since it is a bijection, <span class="math">\(\abs{S} = \abs{T}\)</span>, so there are the same number of subsets as there are binary strings of length <span class="math">\(n\)</span>.<br />Since there are <span class="math">\(2^n\)</span> possible binary strings, there are also <span class="math">\(2^n\)</span> subsets of <span class="math">\([n]\)</span>.<br />This also gives us an algorithm for listing all the subsets. Since binary strings are easy to list by counting upwards, we simply apply <span class="math">\(f^{-1}\)</span> to the list of all the binary strings of length <span class="math">\(n\)</span> to get the subsets of <span class="math">\([n]\)</span>.</p>
</blockquote>
<h2 id="binomial-theorem">Binomial Theorem</h2>
<p>Proposition: <span class="math">\((1 + x)^n = \sum_{k = 0}^n {n \choose k} x^k\)</span>.</p>
<p>Clearly, <span class="math">\((1 + x)^n = (1 + x) \cdots (1 + x)\)</span>. Clearly, each term in the expansion takes either a <span class="math">\(1\)</span> or an <span class="math">\(x\)</span> from each of the factors.</p>
<p>For example, <span class="math">\((1 + x)^3 = (1 + x)(1 + x)(1 + x) = 1 \cdot 1 \cdot 1 + 1 \cdot 1 \cdot x + 1 \cdot x \cdot 1 + 1 \cdot x \cdot x\)</span>. Clearly, the factors of each term is in the Cartesian product of the set <span class="math">\(\set{1, x}^n\)</span>.</p>
<p>We can also represent this using a Cartesian product. Clearly, <span class="math">\(\set{1, x}^n = \set{(a_1, \ldots, a_n) \middle| a_1, \ldots, a_n \in \set{1, x}}\)</span>.</p>
<p>Therefore, <span class="math">\((1 + x)^n = \sum_{(a_1, \ldots, a_n) \in \set{1, x}^n} a_1 \cdots a_n\)</span>.</p>
<p>Clearly, each <span class="math">\(a_1 \cdots a_n\)</span> adds another <span class="math">\(x^k\)</span> where <span class="math">\(k\)</span> is the number of occurrences of <span class="math">\(x\)</span>. Since there are <span class="math">\(n \choose k\)</span> ways of picking <span class="math">\(k\)</span> occurrences of <span class="math">\(x\)</span>, and all possible combinations are in the Cartesian product, there are <span class="math">\(n \choose k\)</span> terms that are <span class="math">\(x^k\)</span>.</p>
<p>Since the highest power is <span class="math">\(x^n\)</span>, <span class="math">\((1 + x)^n = \sum_{k = 0}^n {n \choose k} x^k\)</span>.</p>
<h1 id="section-2">9/5/14</h1>
<p>In combinatorial proofs, we often prove that two things are equal by constructing a set such that if we count the number of elements it contains in one way it results in one side, and when we count another way it results in the other side.</p>
<p>So if we wanted to prove <span class="math">\(A = B\)</span>, then we'd have a set such that finding its size one way results in <span class="math">\(A\)</span>, and in another way results in <span class="math">\(B\)</span>.</p>
<h3 id="disjoint-sets">Disjoint Sets</h3>
<p>Two sets <span class="math">\(A\)</span> and <span class="math">\(B\)</span> are <strong>disjoint sets</strong> if they have no elements in common - <span class="math">\(A \cap B = \emptyset\)</span>. Three or more sets are disjoint if all of those sets are all disjoint to each other - they all contain unique elements.</p>
<p>If the sets <span class="math">\(S_1, \ldots, S_n\)</span> are disjoint, then <span class="math">\(\abs{S_1 \cup \ldots \cup S_n} = \abs{S_1} + \ldots + \abs{S_n}\)</span>. This is because all the elements are unique, so the union is simply the set containing all the original elements.</p>
<p>If we replace <span class="math">\(x\)</span> with 1 in the Binomial theorem, we get <span class="math">\(2^n = \sum_{k = 0}^n {n \choose k}\)</span>. The <span class="math">\(n \choose k\)</span> values are known as the <strong>binomial coefficients</strong>.</p>
<p>We want a combinatoric proof of this rather than a simple algebraic proof. What we will do is create a set, and when we count it one way, we get <span class="math">\(2^n\)</span>, and when we prove it another way, we get <span class="math">\(\sum_{k = 0}^n {n \choose k}\)</span>.</p>
<p>Let <span class="math">\(S\)</span> be the set of all subsets of <span class="math">\([n]\)</span>. Then <span class="math">\(\abs{S} = 2^n\)</span>, from the proof of bijections of binary strings.</p>
<p>Let <span class="math">\(S_k\)</span> be the set of all <span class="math">\(k\)</span>-subsets of <span class="math">\([n]\)</span>, for <span class="math">\(0 \le k \le n\)</span>. Then <span class="math">\(S = S_0 \cup \ldots \cup S_n\)</span>, and <span class="math">\(S_0, \ldots, S_n\)</span> are disjoint sets.</p>
<p>Then <span class="math">\(\abs{S} = \abs{S_1} + \ldots + \abs{S_n}\)</span>, and <span class="math">\(\abs{S_k} = {n \choose k}\)</span> (since a <span class="math">\(k\)</span>-subset is all the ways we can choose <span class="math">\(k\)</span> elements out of <span class="math">\(n\)</span>).</p>
<p>So <span class="math">\(\abs{S} = 2^n = \sum_{k = 0}^n {n \choose k}\)</span>.</p>
<h3 id="pascals-triangle">Pascal's Triangle</h3>
<p>Using this, we can draw <strong>Pascal's Triangle</strong>, a triangle listing all the binomial coefficients:</p>
<pre><code>               1
            1    1
         1    2    1
      1    3    3    1
   1    4    6    4    1
1    5   10   10    5    1
...</code></pre>
<p>The <span class="math">\(n\)</span>th row of Pascal's Triangle is all the values of <span class="math">\(n \choose k\)</span>, and each column of each row is for <span class="math">\(k\)</span> from 1 to <span class="math">\(n\)</span> inclusive.</p>
<p>From the triangle we notice that <span class="math">\({n \choose k} = {n - 1 \choose k} + {n - 1 \choose k - 1}\)</span>. However, we want to prove this:</p>
<blockquote>
<p>Let <span class="math">\(S\)</span> be the set of all <span class="math">\(k\)</span>-subsets of <span class="math">\([n]\)</span>.<br />Then <span class="math">\(\abs{S} = {n \choose k}\)</span>. Let <span class="math">\(S_1\)</span> be the set of all <span class="math">\(k\)</span>-subsets of <span class="math">\([n]\)</span> that include <span class="math">\(n\)</span>, and <span class="math">\(S_2\)</span> be the set of all subsets that do not.<br />Clearly, <span class="math">\(S = S_1 \cup S_2\)</span>, which is a disjoint set, so <span class="math">\(\abs{S} = \abs{S_1} + \abs{S_2}\)</span>.<br />Clearly, every set in <span class="math">\(S_1\)</span> contains <span class="math">\(n\)</span>, plus <span class="math">\(k - 1\)</span> elements from <span class="math">\([n - 1]\)</span>, since we can't use <span class="math">\(n\)</span> again.<br />So <span class="math">\(\abs{S_1} = {n - 1 \choose k - 1}\)</span>, since it is the set of all <span class="math">\((k - 1)\)</span>-subsets of <span class="math">\([n - 1]\)</span>.<br />Clearly, every set in <span class="math">\(S_1\)</span> contains <span class="math">\(k\)</span> elements, and we can only choose from <span class="math">\([n - 1]\)</span> elements.<br />So <span class="math">\(\abs{S_2} = {n - 1 \choose k}\)</span>, since it is the set of all <span class="math">\(k\)</span>-subsets of <span class="math">\([n - 1]\)</span>.<br />So <span class="math">\({n \choose k} = {n - 1 \choose k} + {n - 1 \choose k - 1}\)</span>.</p>
</blockquote>
<h3 id="hockey-stick-identity">Hockey Stick Identity</h3>
<p>We can also prove it algebraically:</p>
<blockquote>
<p>If <span class="math">\(f(x)\)</span> is a power series, then let <span class="math">\([x^n]f(x)\)</span> represent the coefficient of <span class="math">\(x^n\)</span> in <span class="math">\(f(x)\)</span>.<br />So <span class="math">\([x^k](1 + x)^n = {n \choose k}\)</span>.<br />Clearly, <span class="math">\([x^k](1 + x)^n = [x^k](1 + x)(1 + x)^{n - 1} = [x^k](1 + x)^{n - 1} + [x^k]x(1 + x)^{n - 1}\)</span>.<br />Clearly, <span class="math">\([x^k](1 + x)^{n - 1} = {n - 1 \choose k}\)</span>.<br />Clearly, <span class="math">\([x^k]x(1 + x)^{n - 1} = [x^{k - 1}](1 + x)^{n - 1} = {n - 1 \choose k - 1}\)</span>, since the <span class="math">\(x\)</span> factor increases all the powers of <span class="math">\(x\)</span> in the power series by 1.<br />So <span class="math">\([x^k](1 + x)^n = [x^k](1 + x)^{n - 1} + [x^k]x(1 + x)^{n - 1} = {n \choose k} = {n - 1 \choose k} + {n - 1 \choose k - 1}\)</span></p>
</blockquote>
<p>From the above identity we know that <span class="math">\({n + k \choose n} = {n + k - 1 \choose n} + {n + k - 1 \choose n - 1}\)</span>, since we substituted <span class="math">\(n + k\)</span> for <span class="math">\(n\)</span> and <span class="math">\(n\)</span> for <span class="math">\(k\)</span>.</p>
<p>If we expand the first term of the right side using the same identity, we get <span class="math">\({n + k \choose n} = {n + k - 2 \choose n} + {n + k - 2 \choose n - 1} + {n + k - 1 \choose n - 1}\)</span>.</p>
<p>If we keep expanding the first term on the right side, we find that we get <span class="math">\({n + k - (k + 1) \choose n} + {n + k - (k + 1) \choose n - 1} + \ldots + {n + k - 1 \choose n - 1}\)</span>. Clearly, <span class="math">\(n + k - (k + 1) \choose n = 0\)</span>.</p>
<p>So by induction, we get <span class="math">\(\sum_{i = 0}^k {n + i - 1 \choose n - 1} = {n + k \choose n}\)</span>.</p>
<p>Now we want to prove this combinatorially:</p>
<blockquote>
<p>Let <span class="math">\(S\)</span> be the set of all <span class="math">\(n\)</span>-subsets of <span class="math">\([n + k]\)</span>. Then <span class="math">\(\abs{S} = {n + k \choose n}\)</span>.<br />Let <span class="math">\(S_i\)</span> be the set of all <span class="math">\(n\)</span>-subsets of <span class="math">\([n + k]\)</span> whose largest element is <span class="math">\(n + i\)</span>, where <span class="math">\(0 \le i \le k\)</span>.<br />Clearly, the largest element of each <span class="math">\(n\)</span>-subset is between <span class="math">\(n\)</span> and <span class="math">\(n + k\)</span> inclusive.<br />Clearly, <span class="math">\(S = S_0 \cup \ldots \cup S_k\)</span>, and this is a disjoint set, so <span class="math">\(\abs{S} = \abs{S_0} + \ldots + \abs{S_k}\)</span>.<br />Clearly, each set in <span class="math">\(S_i\)</span> must contain <span class="math">\(n + i\)</span> as the largest element, and all the other elements must be in <span class="math">\([n + i - 1]\)</span> (since they must be less than the largest element).<br />So there are <span class="math">\(n + i - 1\)</span> elements to choose from, out of <span class="math">\(n - 1\)</span> spots (one spot of <span class="math">\(n\)</span> was taken by the largest element). So there are <span class="math">\(n + i - 1 \choose n - 1\)</span> elements in <span class="math">\(S_i\)</span>.<br />So <span class="math">\({n + k \choose n} = \abs{S} = {n - 1 \choose n - 1} + \ldots + {n + k - 1 \choose n - 1} = \sum_{i = 0}^k {n + i - 1 \choose n - 1}\)</span></p>
</blockquote>
<p>This is known as the <strong>hockey stick identity</strong>. The reason for this is because it states that in Pascal's Triangle, the value of a number in the triangle is the sum of all the numbers in either diagonal passing through the number directly above it from the outside edge of the triangle until it is diagonal to the number we want.</p>
<p>For example, the topmost and leftmost 10 in Pascal's Triangle is <span class="math">\(10 = 1 + 3 + 6\)</span>, or <span class="math">\(10 = 4 + 3 + 2 + 1\)</span>.</p>
<h1 id="section-3">12/5/14</h1>
<p>Proof techniques: bijections, partitioning sets into two sets, and counting two sets in different ways.</p>
<h2 id="generating-series">Generating Series</h2>
<p>We can also prove by using power series.</p>
<p>Given a set <span class="math">\(S\)</span>, the universe of discourse, where each element <span class="math">\(\sigma \in S\)</span> is associated with a non-negative integer weight <span class="math">\(w(\sigma)\)</span>, the <strong>generating series/generating function</strong> of <span class="math">\(S\)</span> with respect to <span class="math">\(w(\sigma)\)</span> is <span class="math">\(\Phi_S(x) = \sum_{\sigma \in S} x^{w(\sigma)}\)</span>. If we expand and collect like terms, the coefficient of each <span class="math">\(x^k\)</span> is the number of elements in <span class="math">\(S\)</span> with exactly the weight <span class="math">\(k\)</span>.</p>
<p>For example, let <span class="math">\(S\)</span> be the set of all subsets of <span class="math">\([3]\)</span>, and let <span class="math">\(w(A) = \abs{A}\)</span>. So <span class="math">\(S = \set{\emptyset, \set{1}, \set{2}, \set{3}, \set{1, 2}, \set{1, 3}, \set{2, 3}, \set{1, 2, 3}}\)</span>. The corresponding weights are <span class="math">\(0, 1, 1, 1, 2, 2, 2, 3\)</span>.</p>
<p>Then the generating series is <span class="math">\(1 + x + x + x + x^2 + x^2 + x^2 + x^3 = 1 + 3x + 3x^2 + x^3 = (1 + x)^3\)</span>, from the binomial theorem.</p>
<p>What does each coefficient of <span class="math">\(x^k\)</span> mean? It is the number of elements that have exactly the weight <span class="math">\(k\)</span>. In our particular example, it is the number of elements of size <span class="math">\(k\)</span>.</p>
<p>So if <span class="math">\(a_k\)</span> is the weight of the <span class="math">\(k\)</span>th subset, then <span class="math">\(\Phi_S(x) = \sum_{k \ge 0} a_k x^k\)</span>.</p>
<p>Now we want to generalize this. Let <span class="math">\(S\)</span> be the set of all subsets of <span class="math">\([n]\)</span> and <span class="math">\(w(A) = \abs{A}\)</span>. Then the coefficient of <span class="math">\(x^k\)</span> in <span class="math">\(\Phi_S(x)\)</span> is <span class="math">\(n \choose k\)</span>, because it is the number of <span class="math">\(k\)</span>-subsets of <span class="math">\([n]\)</span> (the number of ways we can choose <span class="math">\(k\)</span> elements from <span class="math">\(n\)</span> elements).</p>
<p>So <span class="math">\(\Phi_S(x) = \sum_{k = 0}^n {n \choose k} x^k = (1 + x)^n\)</span>, by the binomial theorem.</p>
<p>How many ways can we throw two dice and get a sum of 10?</p>
<blockquote>
<p>Clearly, <span class="math">\(S = [6] \times [6]\)</span>, the Cartesian product.<br />We define <span class="math">\((a, b)\)</span> to be a pair of dice throws, and the weighting function to be their sum, <span class="math">\(w((a, b)) = a + b\)</span>.<br />So <span class="math">\(\Phi_{[6] \times [6]}(x) = \sum_{(a, b) \in [6] \times [6]} x^{a + b}\)</span>.<br />If we do this by hand, by considering every possible pair, we find that the generating series is <span class="math">\(x^2 + 2x^3 + 3x^4 + 4x^5 + 5x^6 + 6x^7 + 5x^8 + 4x^9 + 3x^{10} + 2x^{11} + x^{12}\)</span>.<br />So the answer is the coefficient of <span class="math">\(x^{10}\)</span>, which is 3.<br />If we factor this, we get <span class="math">\((x + x^2 + x^3 + x^4 + x^5 + x^6)^2\)</span>. Note that when we multiply this out, we add up the exponents, just like the weight function.<br />However, we want to solve it more simply. Suppose we have two infinite sided dice.<br />Then <span class="math">\(S = \mb{N} \times \mb{N}\)</span>, the set of all pairs of natural numbers. We keep the same weight function, <span class="math">\(w((a, b)) = a + b\)</span>.<br />So <span class="math">\(\Phi_S(x) = x^2 + 2x^3 + 3x^4 + \ldots = (x + x^2 + \ldots)^2\)</span>.<br />Incidentally, <span class="math">\((x + x^2 + \ldots)^2 = \frac{x^2}{(1 - x)^2}\)</span>.</p>
</blockquote>
<p>In general, for a counting problem:</p>
<ol style="list-style-type: decimal">
<li>Define the set of objects.</li>
<li>Define a weight function related to the problem such that we get the answer we need.</li>
<li>Find the generating series.</li>
<li>Possibly find the coefficient of <span class="math">\(x^k\)</span></li>
</ol>
<p>We rarely substitute a value for <span class="math">\(x\)</span>. It acts as a way to keep the coefficients of <span class="math">\(x\)</span> as separate values. As a result we don't really need to worry about convergence or divergence.</p>
<p>This technique is useful because the generating series is sometimes easier to find than the actual coefficients, yet it can be used to find the coefficients.</p>
<p>The reason generating series are useful is because <span class="math">\([x^n]\Phi_S(x)\)</span> is the number of times <span class="math">\(w(\sigma) = n\)</span>. This allows us to find the number of <span class="math">\(\sigma\)</span> in <span class="math">\(S\)</span> that have <span class="math">\(w(\sigma) = n\)</span>.</p>
<p>We can solve for <span class="math">\([x^k]\)</span> explicitly by writing <span class="math">\(\Phi_S(x)\)</span> as a power series, solving for the index <span class="math">\(i\)</span> that would result in the term having <span class="math">\(x^k\)</span>, and obtaining the coefficient of that index. However, leaving it in the form of <span class="math">\([x^n]f(x)\)</span> is often sufficient for an answer.</p>
<p>For example, given <span class="math">\([x^k]\sum_{i = 1}^n 2i^ix^{2i}\)</span>, we solve <span class="math">\(x^k = x^{2i}\)</span> and <span class="math">\(i = \frac k 2\)</span>. Then <span class="math">\([x^k]\sum_{i = 1}^n 2i^ix^{2i} = 2i^i = 2\left(\frac k 2\right)^{\frac k 2}\)</span>.</p>
<h1 id="section-4">14/5/14</h1>
<h2 id="formal-power-series">Formal Power Series</h2>
<p>Let <span class="math">\(a_1, a_2, \ldots\)</span> be a sequence of numbers. Then the <strong>formal power series</strong> associated with <span class="math">\(\{a_n\}\)</span> is <span class="math">\(A(x) = \sum_{k \ge 0} a_k x^k\)</span>.</p>
<p>This allows us to represent the entire sequence using one power series.</p>
<p>The coefficient of <span class="math">\(x^n\)</span> in <span class="math">\(A(x)\)</span> is denoted <span class="math">\([x^n]A(x)\)</span>. For example, <span class="math">\([x^2](1 + 2x + 3x^2 + 4x^3 + \ldots) = 3\)</span>.</p>
<p>Two power series are <strong>equal</strong> if they have the same coefficients for the same powers: <span class="math">\(A(x) = B(x) \iff \forall n \ge 0, [x^n]A(x) = [x^n]B(x)\)</span>.</p>
<p>Addition is defined as <span class="math">\(A(x) + B(x) = \sum_{k \ge 0} \left([x^k]A(x) + [x^k]B(x)\right)x^k\)</span>.</p>
<p>For example, if <span class="math">\(A(x) = (1 + 2x)^{10}, B = 1 + x + x^2 + \ldots\)</span>, find <span class="math">\([x^n](A(x) + B(x))\)</span>:</p>
<blockquote>
<p>Clearly, <span class="math">\(A(x) = (1 + 2x)^{10} = \sum_{k = 0}^{10} {10 \choose k} (2x)^k = \sum_{k = 0}^{10} {10 \choose k} 2^k x^k\)</span>.<br />Clearly, <span class="math">\(B(x) = \sum_{k = 0}^n x^k\)</span>.<br />So <span class="math">\([x^n](A(x) + B(x)) = \begin{cases} 2^n {10 \choose n} + 1 &amp;\text{if } 0 \le n \le 10 \\ 1 &amp;\text{if } n &gt; 10 \end{cases}\)</span>.</p>
</blockquote>
<p>Multiplication is defined as <span class="math">\(A(x)B(x) = \sum_{n \ge 0} \left(\sum_{i = 0}^n a_i b_{n - i}\right)x^n\)</span>. Since <span class="math">\(\sum_{i = 0}^n a_i b_{i - 1}\)</span> is always finite, multiplication of power series is closed under multiplication.</p>
<p>This can be derived by multiplying out <span class="math">\((a_0 + a_1x + a_2x^2 + \ldots)(b_0 + b_1x + b_2x^2 + \ldots) = (a_0 b_0 + a_0 b_1 a_0 b_2 + \ldots) + (a_1 b_0 + a_1 b_1 a_1 b_2 + \ldots) + (a_2 b_0 + a_2 b_1 a_2 b_2 + \ldots) + \ldots\)</span>. Clearly, the coefficient of <span class="math">\(x^n\)</span> is <span class="math">\(a_0 b_n + a_1 b_{n - 1} + \ldots + a_n b_0\)</span>, because these are all the ways the values can add up to <span class="math">\(n\)</span> - <span class="math">\(a_i\)</span> is the coefficient of <span class="math">\(x^i\)</span> and <span class="math">\(b_j\)</span> is the coefficient of <span class="math">\(x^j\)</span>, so it must be that <span class="math">\(i + j = n\)</span>, and <span class="math">\(j = n - i\)</span>.</p>
<h2 id="inverses">Inverses</h2>
<p>The <strong>inverse</strong> of a power series <span class="math">\(A(x)\)</span> is <span class="math">\(B(x)\)</span> if and only if <span class="math">\(A(x)B(x) = 1\)</span>. It is defined as <span class="math">\(A^{-1}(x)\)</span></p>
<p>What is the inverse of <span class="math">\(1 - x\)</span>?</p>
<blockquote>
<p>Let <span class="math">\(B(x) = b_0 + b_1x + b_2x^2 + \ldots\)</span>. Assume <span class="math">\(A(x)B(x) = 1\)</span>.<br />Then <span class="math">\(b_0 + b_1x + b_2x^2 + \ldots - b_0x - b_1x^2 - b_2x^3 - \ldots = 1 = b_0 + (b_1 - b_0)x + (b_2 - b_1)x^2 + (b_3 - b_2)x^3 + \ldots\)</span>.<br />So <span class="math">\(b_0 = 1, b_1 - b_0 = 0, b_2 - b_1 = 0, b_3 - b_2 = 0, \ldots\)</span>, and <span class="math">\(\forall n \ge 0, b_n = 1\)</span>.<br />So <span class="math">\((1 - x)^{-1} = 1 + x + x^2 + x^3 + \ldots = \frac 1 {1 - x}\)</span>, the geometric series.</p>
</blockquote>
<h1 id="section-5">16/5/14</h1>
<p>The three series to remember are:</p>
<ul>
<li><span class="math">\(\frac 1 {1 - x} = 1 + x + x^2 + \ldots\)</span></li>
<li><span class="math">\(\frac{1 - x^{k + 1}}{1 - x} = 1 + x + x^2 + \ldots + x^k\)</span></li>
<li><span class="math">\(\frac 1 {(1 - x)^k} = \sum_{n = 0}^\infty {n + k - 1 \choose k - 1}x^n\)</span></li>
</ul>
<p>What is the inverse of <span class="math">\(x\)</span>, if it exists?</p>
<blockquote>
<p>Let <span class="math">\(B(x) = b_0 + b_1x + \ldots\)</span> be a power series such that <span class="math">\(xB(x) = 1\)</span>.<br />Then <span class="math">\(x(b_0 + b_1x + \ldots) = b_0x + b_1x^2 + \ldots = 1\)</span>.<br />This is a contradiction because the left side has no constant term, while the right side does.</p>
</blockquote>
<p>If we generalize this, any power series that does not have a constant term (any power series that has <span class="math">\(x\)</span> as a factor) cannot be inverted.</p>
<p>Any power series <span class="math">\(A(x)\)</span> has an inverse if and only if <span class="math">\([x^0]A(x) \ne 0\)</span>.</p>
<p>Incidentally, we can use the identity <span class="math">\(\frac 1 {1 - f(x)} = 1 + f(x) + f(x)^2 + \ldots\)</span> if <span class="math">\(f(x)\)</span> is a power series with no constant term. If there is a constant term, then the expansion of <span class="math">\(f(x)^k\)</span> has a constant term, so the constant term goes to infinity and the series no longer converges.</p>
<h2 id="compositions">Compositions</h2>
<p>Let <span class="math">\(G(x) = \frac 1 {1 - x} = 1 + x + x^2 + \ldots\)</span>. Then <span class="math">\(G(3x^2) = \frac 1 {1 - 3x^2} = 1 + 3x^2 + 9x^4 + 27x^6\)</span> and <span class="math">\([x^n]G(x) = \begin{cases} 3^{\frac n 2} &amp;\text{if } n \text{ is even} \\ 0 &amp;\text{if } n \text{ is odd} \end{cases}\)</span>.</p>
<p>Now let <span class="math">\(A(x) = G(3x^2)^9 = \frac 1 {(1 - 3x^2)^9}\)</span>. Then <span class="math">\(A(x) = \sum_{n \ge 0} {n + 9 - 1 \choose 9 - 1} (3x^2)^n = \sum_{n \ge 0} {n + 8 \choose 8}3^nx^{2n}\)</span>.</p>
<p>So <span class="math">\([x^{200}]A(x) = {108 \choose 8}3^{100}\)</span>.</p>
<h3 id="expanding-rational-functions">Expanding Rational Functions</h3>
<p>Let <span class="math">\(B(x) = \sum_{i \ge 0} (x + 2x^2)^i = \frac 1 {1 - (x + 2x^2)} = \frac 1 {1 - x - 2x^2}\)</span>.</p>
<p>How do we find the coefficients of this series? Let <span class="math">\(B(x) = \sum_{i \ge 0} b_i x^i\)</span>.</p>
<p>Then <span class="math">\(\frac 1 {1 - x - 2x^2} = \sum_{i \ge 0} (x + 2x^2)\)</span> and <span class="math">\(1 = (1 - x - 2x^2)\sum_{i \ge 0} (x + 2x^2) = \sum_{i \ge 0} (x + 2x^2) - x\sum_{i \ge 0} (x + 2x^2) - 2x^2\sum_{i \ge 0} (x + 2x^2) = b_0 + (b_1 - b_0)x + (b_2 - b_1 - 2b_0)x^2 + \ldots + (b_n - b_{n - 1} - 2b_{n - 2})\)</span>.</p>
<p>Since <span class="math">\(1 = b_0 + (b_1 - b_0)x + (b_2 - b_1 - 2b_0)x^2 + \ldots + (b_n - b_{n - 1} - 2b_{n - 2})\)</span>, <span class="math">\(b_0 = 1\)</span> and <span class="math">\(b_1 - b_0 = 0\)</span>, and <span class="math">\(b_n - b_{n - 1} - 2b_{n - 2}\)</span>.</p>
<p>So the coefficients of the power series can be defined in terms of a recurrence relation: <span class="math">\(b_0 = 1, b_1 = 1, b_n = b_{n - 1} + 2b_{n - 2}\)</span>.</p>
<p>We can generalize this to any rational function. Find the coefficients of the power series expansion for <span class="math">\(F(x) = \frac{1 + 2x^4}{1 - 3x - x^3}\)</span>:</p>
<blockquote>
<p>Let <span class="math">\(F(x) = \frac{1 + 2x^4}{1 - 3x - x^3} = \sum_{i \ge 0} f_i x^i\)</span>. Then <span class="math">\(1 + 2x^4 = \sum_{i \ge 0} f_i x^i - 3x\sum_{i \ge 0} f_i x^i - x^3\sum_{i \ge 0} f_i x^i\)</span>.<br />Then <span class="math">\(1 + 2x^4 = f_0 + (f_1 - 3f_0)x + (f_2 - 3f_1)x^2 + (f_3 - 3f_2 - f_0)x^3 + (f_4 - 3f_3 - f_1) + \ldots + (f_n - 3f_{n - 1} - f_{n - 3})x^n\)</span>. So the coefficients of the left and right sides match and <span class="math">\(f_0 = 1, f_1 - 3f_0 = 0, f_2 - 3f_1 = 0, f_3 - 3f_2 - f_0 = 0, f_4 - 3f_3 - f_1 = 2\)</span>, and <span class="math">\(f_n - 3f_{n - 1} - f_{n - 3} = 0, n &gt; 4\)</span>.<br />Solving, we get <span class="math">\(f_0 = 1, f_1 = 3, f_2 = 9, f_3 = 28, f_4 = 87, f_n = 3f_{n - 1} + f_{n - 3}\)</span>.</p>
</blockquote>
<p>Consider <span class="math">\(D(x) = \sum_{i \ge 0} (1 + x^2)^i = \frac 1 {1 - (1 + x^2)} = \frac 1 {-x^2}\)</span>. However, this is <strong>not a power series</strong> - it does not have a constant term!</p>
<p>To see why, we can expand it out: <span class="math">\(D(x) = 1 + (1 + x^2) + (1 + x^2)^2 + \ldots\)</span>. Note that ever term has a 1 term in it when expanded. Therefore, the constant term goes toward infinity.</p>
<p>All power series must be invertible. Therefore, all power series <strong>must have a constant term</strong>. If the constant term is 0 or infinite, then it cannot be inverted and therefore is not a power series.</p>
<p>So when we are composing a series into the geometric series, like <span class="math">\(\sum_{n \ge 0} f(x)\)</span>, then <span class="math">\(f(x)\)</span> must not have a constant term, or the above will happen and we will get an infinite constant term.</p>
<p>So the series we put into the geometric series cannot be invertible, and therefore cannot be a power series.</p>
<h1 id="section-6">21/5/14</h1>
<h3 id="sum-lemma">Sum Lemma</h3>
<p>Let <span class="math">\(A \cap B = \emptyset\)</span>. Let <span class="math">\(w\)</span> be a weight function on <span class="math">\(A \cup B\)</span>. Then <span class="math">\(\Phi_{A \cup B}(x) = \Phi_A(x) + \Phi_B(x)\)</span>.</p>
<p>In other words, the generating series for the disjunction of disjoint sets is the sum of the generating series for each set.</p>
<p>This is because <span class="math">\(\Phi_S = \sum_{\sigma \in S} x^{w(\sigma)} = \sum_{\sigma \in A} x^{w(\sigma)} + \sum_{\sigma \in B} x^{w(\sigma)} = \Phi_A(x) + \Phi_B(x)\)</span>.</p>
<p>For example, let <span class="math">\(\mb{N}_0\)</span> be the set of all non-negative integers and <span class="math">\(w(\sigma) = \sigma\)</span>. Then <span class="math">\(\Phi_{\mb{N}_0} = 1 + x + x^2 + \ldots = \frac 1 {1 - x}\)</span>.</p>
<p>Clearly, <span class="math">\(\mb{N}_0 = E \cup O\)</span>, where <span class="math">\(E\)</span> is the set of non-negative even numbers and <span class="math">\(O\)</span> is the set of non-negative odd numbers. Clearly, <span class="math">\(E \cap O = \emptyset\)</span>.</p>
<p>Clearly, <span class="math">\(\Phi_E(x) = 1 + x^2 + x^4 + \ldots = \frac 1 {1 - x^2}\)</span> and <span class="math">\(\Phi_O(x) = x + x^3 + x^5 + \ldots = \frac x {1 - x^2}\)</span>.</p>
<p>Clearly, <span class="math">\(\frac 1 {1 - x} = \frac 1 {1 - x^2} + \frac x {1 - x^2}\)</span>.</p>
<p>For example, let <span class="math">\(S_n\)</span> be the set of all subsets of <span class="math">\([n]\)</span> and <span class="math">\(w(A) = \abs{A}\)</span>. Clearly, <span class="math">\(S_n = A \cup B\)</span>, where <span class="math">\(A\)</span> is the set of all elements in <span class="math">\(S_n\)</span> that contain <span class="math">\(n\)</span>, and <span class="math">\(B\)</span> is the set of all elements that do not.</p>
<p>Clearly, <span class="math">\(\Phi_{S_n}(x) = \Phi_A(x) + \Phi_B(x)\)</span>. Clearly, <span class="math">\(B\)</span> is the set of all subsets of <span class="math">\([n - 1]\)</span>, so <span class="math">\(B = S_{n - 1}\)</span>. Clearly, <span class="math">\(A\)</span> is just the sets in <span class="math">\(S_{n - 1}\)</span> with <span class="math">\(n\)</span> added to each one, so <span class="math">\(A = \set{x \cup \set{n} \middle| x \in S_{n - 1}}\)</span>.</p>
<p>So <span class="math">\(\Phi_B(x) = \Phi_{S_{n - 1}}(x)\)</span>, and there is a bijection <span class="math">\(f: A \to S_{n - 1}\)</span> defined by <span class="math">\(f(T) = T \setminus \set{n}\)</span>. Clearly, <span class="math">\(w(T) = w(f(T)) + 1\)</span> because we just added an element to each set to make it 1 bigger.</p>
<p>So <span class="math">\(\Phi_A(x) = \sum_{T \in A} x^{w(T)} = \sum_{T \in A} x^{w(f(T)) + 1} = \sum_{T \in S_{n - 1}} x^{w(T) + 1} = x\sum_{T \in S_{n - 1}} x^{w(T)}\)</span>, since <span class="math">\(f(T)\)</span> maps every element of <span class="math">\(A\)</span> onto an element of <span class="math">\(S_{n - 1}\)</span>.</p>
<p>So <span class="math">\(\Phi_A(x) = x \Phi_{S_{n - 1}}(x), \Phi_B(x) = \Phi_{S_{n - 1}}(x)\)</span>, so ;wip</p>
<p>;wip: <span class="math">\((1 + x)\Phi_{S_{n - 1}}\)</span> then simplify to <span class="math">\((1 + x)^n\)</span></p>
<h3 id="product-lemma">Product Lemma</h3>
<p>Let <span class="math">\(A, B\)</span> be sets and <span class="math">\(\alpha, \beta\)</span> be weight functions on <span class="math">\(A, B\)</span>, respectively. Then if we define <span class="math">\(w(a, b) = \alpha(a) + \beta(b)\)</span>, <span class="math">\(\Phi_{A \times B}(x) = \Phi_A(x) \Phi_B(x)\)</span>.</p>
<p>In other words, the generating series for the Cartesian product of two sets is the product of the generating series for each of the two sets, if the weight function is the sum of the weight functions for the two sets.</p>
<p>This is because <span class="math">\(\Phi_A(x) \Phi_B(x) = \sum_{a \in A} x^{\alpha(a)} \sum_{b \in B} x^{\beta(b)} = \sum_{a \in A} \sum_{b \in B} x^{\alpha(a)} x^{\beta(b)} = \sum_{a \in A} \sum_{b \in B} x^{\alpha(a) + \beta(b)}\)</span>. ;wip: how?</p>
<p>Since this is just the sum of all the elements in the Cartesian product, <span class="math">\(\sum_{a \in A} \sum_{b \in B} f(a) g(b) = \sum_{x \in A \times B} x^{\alpha(a) + \beta(b)} = \Phi_{A \times B}(x)\)</span>, as required.</p>
<p>So <span class="math">\(\sum_{(a, b) \in A \times B} x^{a + b} = \left(\sum_{a \in A} x^a\right)\left(\sum_{b \in B} x^b\right)\)</span>.</p>
<p>;wip: <span class="math">\(\sum_{a \in A} f(a) \sum_{b \in B} g(b) = \sum_{a \in A} \sum_{b \in B} f(a) g(b)\)</span>.</p>
<p>How many ways can we add <span class="math">\(k\)</span> non-negative integers to get <span class="math">\(n\)</span>?</p>
<blockquote>
<p>Each possible way can be represented as <span class="math">\((a_1, \ldots, a_k) \in \mb{N}_0^k\)</span> (Cartesian product of non-negative integers <span class="math">\(k\)</span> times), where <span class="math">\(a_1 + \ldots + a_k = n\)</span> and <span class="math">\(a_1, \ldots, a_k \in \mb{N}_0\)</span>.<br />Let <span class="math">\(w(a_1, \ldots, a_k) = a_1 + \ldots + a_k\)</span>. Then by the product lemma, <span class="math">\(\Phi_{\mb{N}_0^k}(x) = \Phi_{\mb{N}_0}(x) \cdots \Phi_{\mb{N}_0}(x) = \Phi_{\mb{N}_0}(x)^k\)</span>.<br />Clearly, <span class="math">\(\Phi_{\mb{N}_0}(x) = 1 + x + x^2 + \ldots = \frac 1 {1 - x}\)</span>, so <span class="math">\(\Phi_{\mb{N}_0^k}(x) = \frac 1 {(1 - x)^k} = \sum_{n \ge 0} {n + k - 1 \choose k - 1}x^n\)</span>.<br />So there are <span class="math">\([x^n]\Phi_{\mb{N}_0^k}(x) = {n + k - 1 \choose k - 1}\)</span> possible values of <span class="math">\((a_1, \ldots, a_k)\)</span>.</p>
</blockquote>
<h1 id="section-7">23/5/14</h1>
<p>Clearly, <span class="math">\(\frac 1 {(1 - x)^k} = \frac 1 {1 - x} \cdots \frac 1 {1 - x}\)</span>. Since <span class="math">\(\frac 1 {1 - x} = 1 + x + x^2 + \ldots\)</span>, it is the generating series for <span class="math">\(\mb{N}_0\)</span> with weight finction <span class="math">\(w(\sigma) = \sigma\)</span>.</p>
<p>Then <span class="math">\(\frac 1 {(1 - x)^k}\)</span> is the generating series for <span class="math">\(\mb{N}_0^k\)</span> with weight function <span class="math">\(w(a_1, \ldots, a_k) = a_1 + \ldots + a_k\)</span>.</p>
<p>There are <span class="math">\(n + k - 1 \choose k - 1\)</span> ways to add <span class="math">\(k\)</span> non-negative integers to add up to <span class="math">\(n\)</span>.</p>
<p>This is because there are <span class="math">\(k\)</span> buckets and <span class="math">\(n\)</span> things to fill them with. We want to figure out all the ways we can distribute the <span class="math">\(n\)</span> things into the <span class="math">\(k\)</span> buckets.</p>
<p>Each bucket can hold from 0 to <span class="math">\(n\)</span> things. However, we notice that the order of the things does not matter, only the quantity.</p>
<p>If we line up the things, the buckets actually divide the line into <span class="math">\(k\)</span> segments, so it basically inserts <span class="math">\(k - 1\)</span> dividers into the line of <span class="math">\(n\)</span> things.</p>
<p>Now we consider the dividers as objects, so there are <span class="math">\(n + k - 1\)</span> of them in total. Therefore there are <span class="math">\(n + k - 1 \choose k - 1\)</span> ways of putting the things into buckets.</p>
<p>If we wanted to make this a proper proof, we might define a bijection between the tuples and a binary string where there is a run of <span class="math">\(a_1\)</span> zeroes, a 1, followed by <span class="math">\(a_2\)</span> zeros, a 1, all the way to <span class="math">\(a_{k - 1}\)</span> zeros, a 1, and <span class="math">\(a_k\)</span> zeros.</p>
<p>How many ways can we have 3 non-negative integers <span class="math">\(a, b, c\)</span> such that <span class="math">\(a + b + c = n\)</span> for some non-negative integer <span class="math">\(n\)</span>, such that <span class="math">\(a \ge 5, b \le 3, 2 \mid c\)</span>?</p>
<blockquote>
<p>Assume <span class="math">\(a \ge 5, b \le 3, 2 \mid c\)</span>. Then we can model it with a Cartesian product: <span class="math">\((a, b, c) \in A \times B \times C\)</span>, where <span class="math">\(A = \set{5, 6, 7, \ldots}, B = \set{0, 1, 2, 3}, C = \set{0, 2, 4, 6, \ldots}\)</span>.<br />Clearly, <span class="math">\(\Phi_A(x) = x^5 + x^6 + \ldots = \frac{x^5}{1 - x}, \Phi_B(x) = 1 + x + x^2 + x^3, \Phi_C(x) = 1 + x^2 + x^4 + \ldots = \frac 1 {1 - x^2}\)</span>, where <span class="math">\(w(\sigma) = \sigma\)</span> for all three.<br />Let <span class="math">\(w(a, b, c) = a + b + c\)</span>, so <span class="math">\(\Phi_{A \times B \times C}(x) = \frac{x^5}{1 - x} (1 + x + x^2 + x^3) \frac 1 {1 - x^2} = \frac{x^5(1 + x + x^2 + x^3)}{(1 - x)(1 - x^2)}\)</span>.<br />We want the number of cases where <span class="math">\(w(a, b, c) = n\)</span>, so the answer is <span class="math">\([x^n]\Phi_{A \times B \times C}(x) = [x^n]\frac{x^5(1 + x + x^2 + x^3)}{(1 - x)(1 - x^2)}\)</span>.</p>
</blockquote>
<p>An <strong>integer composition</strong> of <span class="math">\(n\)</span> is a <span class="math">\(k\)</span>-tuple <span class="math">\((a_1, \ldots, a_k)\)</span> of positive integers such that <span class="math">\(a_1 + \ldots + a_k = n\)</span>. Each <span class="math">\(a_1, \ldots, a_k\)</span> is a part.</p>
<p>For example, compositions of 5 include <span class="math">\((1, 3, 1)\)</span> and <span class="math">\((2, 3)\)</span>. Each part must be greater than or equal to 1, and order is significant.</p>
<p>Also, 0 has a single composition, the empty tuple: <span class="math">\(()\)</span>. This has zero parts, and we define the sum to be 0.</p>
<p>How many compositions of <span class="math">\(n\)</span> have exactly <span class="math">\(k\)</span> parts?</p>
<blockquote>
<p>Let <span class="math">\((a_1, \ldots, a_k)\)</span> be a composition of <span class="math">\(n\)</span>.<br />Then <span class="math">\(a_1, \ldots, a_k \in \mb{N}\)</span> and <span class="math">\((a_1, \ldots, a_k) \in \mb{N}^k\)</span>.<br />Note that instead of <span class="math">\(\mb{N}\)</span> we could also use <span class="math">\(\set{1, \ldots, n}\)</span>, but we still use <span class="math">\(\mb{N}\)</span> to simplify our calculations because the generating series can be written in closed form.<br />Let <span class="math">\(w(\sigma) = \sigma\)</span> be a weighting function over <span class="math">\(\mb{N}\)</span>.<br />Then <span class="math">\(\Phi_{\mb{N}}(x) = x + x^2 + x^3 + \ldots = \frac x {1 - x}\)</span>.<br />Let <span class="math">\(w(a_1, \ldots, a_k) = a_1 + \ldots + a_k\)</span> be a weighting function over <span class="math">\(\mb{N}^k\)</span>.<br />Then <span class="math">\(\Phi_{\mb{N}^k}(x) = \frac x {1 - x} \cdots \frac x {1 - x} = \frac {x^k} {(1 - x)^k}\)</span>.<br />Then the number of values of <span class="math">\((a_1, \ldots, a_k)\)</span> such that <span class="math">\(w(a_1, \ldots, a_k) = n\)</span> is <span class="math">\([x^n]\frac {x^k} {(1 - x)^k}\)</span>.<br />This is an acceptable answer, but we can also get a simpler solution.<br />Clearly, <span class="math">\([x^n]\frac {x^k} {(1 - x)^k} = [x^{n - k}]\frac 1 {(1 - x)^k} = [x^{n - k}]\sum_{i = 0}^\infty {i + k - 1 \choose k - 1}x^i = {n - k + k - 1 \choose k - 1} = {n - 1 \choose k - 1}\)</span>.</p>
</blockquote>
<p>Incidentally, the number of compositions in total is the sum of the compositions that have exactly <span class="math">\(k\)</span> parts from <span class="math">\(k = 0\)</span> to <span class="math">\(k = n\)</span>.</p>
<h1 id="section-8">26/5/14</h1>
<p>How many compositions of <span class="math">\(n\)</span> exist?</p>
<blockquote>
<p>Let <span class="math">\(S = \mb{N}^0 \cup \mb{N}^1 + \mb{N}^2 + \ldots\)</span>. This is a set that is a superset of all the possible compositions.<br />Let <span class="math">\(w(a_1, \ldots, a_k) = a_1 + \ldots + a_k\)</span>. Then <span class="math">\(\Phi_S(x) = \frac{1 - x}{1 - 2x}\)</span>. ;wip: how did we get this generating series? Then there are <span class="math">\([x^n]\frac{1 - x}{1 - 2x}\)</span> compositions of <span class="math">\(n\)</span>.<br />Also, we can get the explicit value: <span class="math">\([x^n]\frac{1 - x}{1 - 2x} = [x^n]\frac{1}{1 - 2x} - [x^n]\frac{x}{1 - 2x} = [x^n]\frac{1}{1 - 2x} - [x^{n - 1}]\frac{1}{1 - 2x} = [x^n]\sum_{i = 0}^\infty (2x)^i - [x^{n - 1}]\sum_{i = 0}^\infty (2x)^i = \begin{cases} 2^n - 2^{n - 1} &amp;\text{if } n &gt; 0 \\ 1 &amp;\text{if } n = 0 \end{cases}\)</span>.</p>
</blockquote>
<p>In general, to solve this type of problem:</p>
<ol style="list-style-type: decimal">
<li>Find a set <span class="math">\(S\)</span> that represents all the possible compositions of a certain type (without considering <span class="math">\(n\)</span>).</li>
<li>Find <span class="math">\(\Phi_S(x)\)</span> where <span class="math">\(w(a_1, \ldots, a_k) = a_1 + \ldots + a_k\)</span>.<br /></li>
<li>Then the number of compositions is usually <span class="math">\([x^n]\Phi_S(x)\)</span>.<br /></li>
<li>Try to find an explicit formula for <span class="math">\([x^n]\Phi_S(x)\)</span> or try to simplify if possible using series and etc.</li>
</ol>
<p>How many compositions of <span class="math">\(n\)</span> exist such that there are <span class="math">\(2k\)</span> parts, where the first <span class="math">\(k\)</span> parts are at least 5, and the last <span class="math">\(k\)</span> are multiples of 3.</p>
<blockquote>
<p>Let <span class="math">\(A = \set{5, 6, 7, \ldots}, B = \set{3, 6, 9, \ldots}\)</span> (we don't include 0 since the values must be at least 1).<br />Let <span class="math">\(S = A^k \times B^k\)</span>. Clearly, this set represents all of the compositions we care about.<br />Then <span class="math">\(\Phi_S(x) = \Phi_A(x)^k \Phi_B(x)^k\)</span>, by the product lemma.<br />Clearly, <span class="math">\(\Phi_A(x) = x^5 + x^6 + x^7 + \ldots = \frac{x^5}{1 - x}\)</span> and <span class="math">\(\Phi_B(x) = x^3 + x^6 + x^9 + \ldots = \frac{x^3}{1 - x^3}\)</span>.<br />So <span class="math">\(\Phi_S(x) = \left(\frac{x^5}{1 - x}\right)^k \left(\frac{x^3}{1 - x^3}\right) = \frac{x^{8k}}{(1 - x)^k(1 - x^3)^k}\)</span>.<br />So there are <span class="math">\([x^n]\Phi_S(x) = \left(\frac{x^5}{1 - x}\right)^k \left(\frac{x^3}{1 - x^3}\right)\)</span> of these compositions.</p>
</blockquote>
<p>The Fibonnaci recurrence is defined as <span class="math">\(a_0 = 1, a_1 = 1, a_n = a_{n - 1} + a_{n - 2}\)</span>.</p>
<p>How many compositions of <span class="math">\(n\)</span> have odd parts?</p>
<blockquote>
<p>Let <span class="math">\(A = \set{1, 3, 5, \ldots}, S = A^0 \cup A^1 \cup \ldots\)</span>.<br />Then <span class="math">\(\Phi_S(x) = \Phi_A(x)^0 + \ldots + \Phi_A(x)^k = \sum_{i = 0}^k \left(\frac{x}{1 - x^2}\right)^k = \frac{1}{1 - \frac{x}{1 - x^2}}\)</span>.<br />Solving as above, there are <span class="math">\([x^n]\frac{1 - x^2}{1 - x - x^2}\)</span> compositions of <span class="math">\(n\)</span> with odd parts.<br />Let <span class="math">\(S_n\)</span> be the set of the compositions of <span class="math">\(n\)</span>. Then <span class="math">\(\abs{S_n} = [x^n]\frac{1 - x^2}{1 - x - x^2}\)</span>.<br />Solving the recurrence relation, we get <span class="math">\(\Phi_S(x) = 1 - x^2 = (1 - x - x^2)\)</span> ;wip Clearly, <span class="math">\(\abs{S_n} = \abs{S_{n - 1}} + \abs{S_{n - 2}}\)</span>.<br />We can therefore define a bijection <span class="math">\(f: S_n \to S_{n - 1} \cup S_{n - 2}\)</span>. One possible bijection is to remove the last element if it is 1, and if it is greater than 1 subtract 2. So <span class="math">\((1, 3, 1) \to (1, 3)\)</span> and <span class="math">\((1, 3, 5) \to (1, 3, 3)\)</span>.<br />We can write this as <span class="math">\(f(a_1, \ldots, a_k) = \begin{cases} (a_1, \ldots, a_{k - 1}) &amp;a_k = 1 \\ (a_1, \ldots, a_{k - 1}, a_k - 2) &amp;a_k &gt; 1 \end{cases}\)</span>.<br />We can also define the inverse <span class="math">\(f^{-1}: S_{n - 1} \cup S_{n - 2} \to S_n\)</span>. In the above case, this would be <span class="math">\(f^{-1}(b_1, \ldots, b_k) = \begin{cases} (b_1, \ldots, b_k + 2) &amp;b_1 + \ldots + b_k = n - 2 \\ (b_1, \ldots, b_k, 1) &amp;b_1 + \ldots + b_k = n - 1 \end{cases}\)</span>.<br />So <span class="math">\(S_n = \set{f^{-1}(a_1, \ldots, a_k) \middle| x \in S_{n - 1}} \cup \set{f^{-1}(a_1, \ldots, a_k) \middle| x \in S_{n - 2}}\)</span>.<br />So using this, <span class="math">\(S_6\)</span> can be found by finding <span class="math">\(S_5\)</span> and <span class="math">\(S_4\)</span> and applying <span class="math">\(f\)</span> to every element in their union. Likewise, <span class="math">\(S_5\)</span> and <span class="math">\(S_4\)</span> can be found by finding <span class="math">\(S_3\)</span> and <span class="math">\(S_2\)</span>, and so on. This allows us to easily compute these compositions recursively.</p>
</blockquote>
<h1 id="section-9">28/5/14</h1>
<h2 id="binary-strings">Binary Strings</h2>
<p>A <strong>binary string</strong> is a sequence of 0 and 1. The length is the total number of these digits.</p>
<p>There is one string with length 0 denoted <span class="math">\(\epsilon\)</span>. It is called the <strong>empty string</strong>.</p>
<p>The <strong>concatenation</strong> of binary strings <span class="math">\(a\)</span> and <span class="math">\(b\)</span> is <span class="math">\(ab\)</span> - we put all the digits of <span class="math">\(b\)</span> after <span class="math">\(a\)</span> to form a new binary string.</p>
<p>A <strong>substring</strong> of <span class="math">\(a\)</span> is a string <span class="math">\(c\)</span> such that there exist strings <span class="math">\(b, d\)</span> such that <span class="math">\(a = bcd\)</span>.</p>
<p>A <strong>block</strong> is a substring of all 1 that has no 1 on either sides, or all 0 with no 0 on either side. It is the largest possible run of a digit.</p>
<p>We often want to know how many binary strings of length <span class="math">\(n\)</span> have certain properties.</p>
<p>We first construct a set <span class="math">\(S\)</span> of all strings with the given properties. Then, we define <span class="math">\(w(s)\)</span> as the length of the string <span class="math">\(s\)</span>. Then we find <span class="math">\(\Phi(S)(x)\)</span> and the answer is <span class="math">\([x^n]\Phi(S)(x)\)</span>.</p>
<h3 id="regular-expressions">Regular Expressions</h3>
<p>Let <span class="math">\(A, B\)</span> be sets of strings.</p>
<p>Then <span class="math">\(AB = \set{ab \middle| a \in A, b \in B}\)</span>. This is somewhat similar to the Cartesian product, but is not always the same. Basically, we</p>
<p>Then <span class="math">\(A^n = AAA\ldotsAAA\)</span>, <span class="math">\(n\)</span> times. So <span class="math">\(A^0 = \set{\epsilon}, A^1 = A, A^2 = AA, \ldots\)</span>. So <span class="math">\(00101 \in \set{0, 1}^5\)</span>.</p>
<p>Then <span class="math">\(A* = A^0 \cup A^1 \cup A^2 \cup \ldots\)</span>. This is the binary strings that can be made by concatinating combinations of <span class="math">\(A\)</span>. For example, <span class="math">\(\set{0, 1}*\)</span> is the set of all possible binary strings.</p>
<p>For example, <span class="math">\(\set{0}\set{00}*\)</span> is the set of all binary strings of all 0 of odd length. This is because it can be expanded to <span class="math">\(\set{0, 000, 00000, \ldots}\)</span>.</p>
<p>Another example is <span class="math">\(\set{0}*(\set{1}\set{0}*)*\)</span>. This is the set of all possible binary strings, because given an arbitrary binary string, it can start with any number of 0 to be in <span class="math">\(\set{0}*\)</span>, and if we break the remaining string into pieces just before every 1, each piece is in <span class="math">\(\set{1}\set{0}*\)</span>.</p>
<h1 id="section-10">30/5/14</h1>
<h3 id="generating-series-1">Generating Series</h3>
<p>We want to find the number of binary strings of a given length <span class="math">\(n\)</span> that satisfy a given property. To do this we can use a generating series over the set of strings where the weight is the length of the string.</p>
<p>For example, <span class="math">\(\Phi_{\set{0, 1}}(x) = x + x = 2x\)</span>.</p>
<p>;wip: rules for constructing generating series ;wip: generating series for S* is <span class="math">\(\frac 1 {1 - \Phi_S(x)}\)</span> because <span class="math">\(S* = S^0 \cup S^1 \cup S^2 \cup \ldots\)</span>.</p>
<p>For example, in this case <span class="math">\(\set{0, 1}^n\)</span> is similar to a Cartensian product <span class="math">\(n\)</span> times. So in this case, we can use the product lemma: <span class="math">\(\Phi_{\set{0, 1}^n}(x) = 2^nx^n\)</span></p>
<p>For example, <span class="math">\(\Phi_{\set{0, 1}*}(x) = \sum_{n \ge 0} \Phi_{\set{0, 1}^n}(x) = \sum_{n \ge 0} 2^nx^n = \frac 1 {1 - 2x}\)</span>.</p>
<p>What is the generating series for <span class="math">\(\set{0}\set{00}*\set{1, 11, 111}\)</span>?</p>
<blockquote>
<p>Clearly, <span class="math">\(\Phi_{\set{0}}(x) = x, \Phi_{\set{00}*}(x) = \frac 1 {1 - x^2}, \Phi_{\set{1, 11, 111}}(x) = x + x^2 + x^3\)</span>.<br />So <span class="math">\(\Phi_{\set{0}\set{00}*\set{1, 11, 111}}(x) = x \frac 1 {1 - x^2} (x + x^2 + x^3) = \frac{x^2 + x^3 + x^4}{1 - x^2}\)</span> where the weight is the length of each string.<br />So there are <span class="math">\([x^n]\frac{x^2 + x^3 + x^4}{1 - x^2}\)</span> binary strings of length <span class="math">\(n\)</span> in <span class="math">\(\set{0}\set{00}*\set{1, 11, 111}\)</span>.</p>
</blockquote>
<h3 id="ambiguity">Ambiguity</h3>
<p>We previously assumed that <span class="math">\(AB\)</span> is functionally the same as <span class="math">\(A \times B\)</span> - that concatenation of sets of binary strings is similar to the Cartesian producct. However, this is <strong>not always true</strong>.</p>
<p>Clearly, <span class="math">\(\Phi_{AB}(x) = \Phi_A(x) \Phi_B(x)\)</span> if for all <span class="math">\(ab \in AB\)</span>, <span class="math">\(w(ab)\)</span> is the length of <span class="math">\(a\)</span> plus the length of <span class="math">\(b\)</span>.</p>
<p>For example, consider <span class="math">\(A = \set{010, 01}, B = \set{01, 001}\)</span>. So <span class="math">\(\Phi_A(x) = x^2 + x^3, \Phi_B(x)x^2 + x^3\)</span>.</p>
<p>Clearly, <span class="math">\(A \times B = \set{(010, 01), (010, 001), (01, 01), (01, 001)}\)</span>. So the generating series is <span class="math">\(\Phi_{A \times B}(x) = x^5 + x^6 + x^4 + x^5\)</span>.</p>
<p>However, <span class="math">\(AB = \set{01001, 010001, 0101, 01001}\)</span>. Note that <span class="math">\(01001\)</span> can be <strong>created in two different ways</strong>. So <span class="math">\(\set{01001, 010001, 0101, 01001} = \set{01001, 010001, 0101}\)</span> and <span class="math">\(\Phi_{AB}(x) = x^5 + x^6 + x^4\)</span>. Note that in this case, the <strong>product lemma does not hold</strong>.</p>
<p>Given sets of binary strings <span class="math">\(A\)</span> and <span class="math">\(B\)</span>, <span class="math">\(AB\)</span> is <strong>ambiguous</strong> if and only if there exist <span class="math">\((a_1, b_1), (a_2, b_2) \in A \times B, a_1 \ne a_2 \vee b_1 \ne b_2 \implies a_1b_1 = a_2b_2\)</span>. Otherwise, <span class="math">\(AB\)</span> is <strong>unambiguous</strong>.</p>
<p>Basically, if there is more than one way for any binary string to be created by concatenating binary strings in sets, then the set is ambiguous.</p>
<p>Also, <span class="math">\(A \cap B\)</span> is ambiguous if and only if <span class="math">\(A \cap B \ne \emptyset\)</span>. This concept can be extended to any number of sets as well.</p>
<h3 id="sumproduct-rule-for-strings">Sum/product Rule for Strings</h3>
<p>If <span class="math">\(A \cap B\)</span> is unambiguous, then <span class="math">\(\Phi_{A \cup B}(x) = \Phi_A(x) + \Phi_B(x)\)</span> where <span class="math">\(w(\sigma) = \sigma\)</span>.</p>
<p>This can be proved from the sum lemma.</p>
<p>If <span class="math">\(AB\)</span> is unambiguous, then <span class="math">\(\Phi_{AB}(x) = \Phi_A(x) \Phi_B(x)\)</span> where <span class="math">\(w(a, b) = w_a(a) + w_b(b)\)</span> where <span class="math">\(w_a\)</span> is the weight function for <span class="math">\(\Phi_A(x)\)</span> and <span class="math">\(w_b\)</span> is the weight function for <span class="math">\(\Phi_B(x)\)</span>.</p>
<p>Since <span class="math">\(AB\)</span> is unambiguous, there is a bijection between <span class="math">\(AB\)</span> and <span class="math">\(A \times B\)</span>, so it follows by the product lemma.</p>
<p>If <span class="math">\(A^*\)</span> is unambiguous, then <span class="math">\(\Phi_{A^*}(x) = \frac 1 {1 - \Phi_A(x)}\)</span>.</p>
<p>Proof:</p>
<blockquote>
<p>Since <span class="math">\(A*\)</span> is unambiguous, <span class="math">\(A^n\)</span> is unambiguous.<br />Clearly, <span class="math">\(\epsilon \notin A\)</span>, because if it was then <span class="math">\(AA\)</span> would be ambiguous.<br />So <span class="math">\(\Phi_A(x)\)</span> has no constant term and <span class="math">\(\Phi_{A^*}(x)\)</span> is a geometric series.<br />So <span class="math">\(\Phi_{A^*}(x) = \frac 1 {1 - \Phi_A(x)}\)</span>.</p>
</blockquote>
<p>There are three basic unambiguous decompositions of the set of all binary strings. A decomposition is a way of writing a set using other sets. Often, the set being decomposed is infinite or otherwise hard to represent.</p>
<p>One is <span class="math">\(\set{0, 1}^*\)</span>. Every binary string has a unique sequence of the elements in the set that, when concatenated, results in that string (we break the string between each character).</p>
<p>Another is <span class="math">\(\set{0}^*(\set{1}\set{0}^*)^*\)</span>. Again, there is only one way for each string to be represented using the elements in the set (we break the string just before each 1).</p>
<p>The last is the <strong>block decomposition</strong>: <span class="math">\(\set{0}^*\left(\set{1}\set{1}^*\set{0}\set{0}^*\right)^*\set{1}^*\)</span>. The reason for the name is because it matches blocks of 1 followed by blocks of 0 an arbitrary number of times.</p>
<p>We can also swap the 1 and 0 to the same effect: <span class="math">\(\set{0}^*(\set{1}\set{0}^*)^*\)</span> matches the same strings as <span class="math">\(\set{1}^*(\set{0}\set{1}^*)^*\)</span>.</p>
<h1 id="section-11">2/6/14</h1>
<p>Let <span class="math">\(S\)</span> be the set of all binary strings with no 3 consecutive 0 - strings that do not contain 000. What is the generating series of this set?</p>
<blockquote>
<p>We can use the <span class="math">\(\set{0}^*(\set{1}\set{0}^*)^*\)</span> decomposition to match these strings.<br />Clearly, we can have three consecutive 0 when and only when we have a <span class="math">\(\set{0^*}\)</span>. Instead, we can replace this with <span class="math">\(\set{\epsilon, 0, 00}\)</span>, the subset of <span class="math">\(\set{0}^*\)</span> that do not contain 3 consecutive 0.<br />So <span class="math">\(S = \set{\epsilon, 0, 00}(\set{1}\set{\epsilon, 0, 00})^*\)</span>. This is still unambiguous because we are simply removing strings we do not want to match.<br />Since it is unambiguous, <span class="math">\(\Phi_S(x) = (1 + x + x^2) \frac 1 {1 - (x + x^2 + x^3)}\)</span> ;wip = (1 + x + x^2)$ ;wip: $$</p>
</blockquote>
<p>Let <span class="math">\(T\)</span> be the set of all binary strings where each block has length at least 2. What is the generating series of this set?</p>
<blockquote>
<p>We can use the <span class="math">\(\set{0}*(\set{1}\set{1}*\set{0}\set{0}*)*\set{1}*\)</span> block decomposition to match these strings.<br />Clearly, <span class="math">\(T = (\set{00}\set{0}* \cup \set{\epsilon}))(\set{11}\set{1}*\set{00}\set{0}*)*(\set{11}\set{1}* \cup \set{\epsilon})\)</span>.<br />;wip: <span class="math">\(\Phi_T(x) = \frac{1 - x + x^2}{1 - x - x^2}\)</span></p>
</blockquote>
<p>Let <span class="math">\(U\)</span> be the set of all binary strings where an even block of 0 cannot be followed by an odd block of 1. What is the generating series for this set?</p>
<blockquote>
<p>Clearly, we can use the <span class="math">\(\set{1}*(\set{0}\set{0}*\set{1}\set{1}*)*\set{0}*\)</span> block decomposition to match these strings (we swapped 0 and 1).<br />Clearly, <span class="math">\(U = \set{1}*(\set{00}\set{00}*\set{11}\set{11}* \cup \set{0}\set{00}*\set{1}\set{1}*)*\set{0}*\)</span>. We are using two cases - when the block is of even length, and when it is of odd length, and considering each case separately.<br />Alternatively, we can write this is as <span class="math">\(\set{1}*(\set{0}\set{0}*\set{1}\set{1}* \setminus \set{00}\set{00}*\set{1}\set{11}*)*\set{0}*\)</span>, as the set of all blocks minus the set of the blocks we do not want to match.<br />In that case the sum lemma can be used like a difference lemma: <span class="math">\(A \setminus B\)</span> implies that <span class="math">\(\Phi_{A \setminus B}(x) = \Phi_A(x) - \Phi_B(x)\)</span>.<br />;wip:  We can also represent this using recursion:</p>
</blockquote>
<p>The Fibonnacci sequence is associated with a denominator of <span class="math">\(1 - x - x^2\)</span></p>
<p>If a regular expression matches a string, that means the string is contained in the set. A regular expression is just a set.</p>
<p>We can find these sets by starting with one of the unambiguous decompositions of all binary strings, and modifying the regular expression until it no longer matches the strings we do not want in the set.</p>
<h3 id="string-recursion">String Recursion</h3>
<p>Clearly, any binary string consists of either an empty string, or a 0 or a 1 followed by another smaller binary string.</p>
<p>Therefore, we can define the set of all binary strings as <span class="math">\(S = \set{\epsilon} \cup \set{0, 1}S\)</span>. There is only one way to break a string in this way, so this representation is unambiguous.</p>
<p>So <span class="math">\(\Phi_S(x) = 1 + 2x\Phi_S(x) = \frac 1 {1 - 2x}\)</span>. Incidentally, <span class="math">\([x^n]\frac{1 - 2x} = 2^n\)</span>.</p>
<h1 id="section-12">4/6/14</h1>
<p>Let <span class="math">\(S\)</span> be the set of all binary strings with no three consecutive 0. What is the generating series?</p>
<blockquote>
<p>First, we cut the string starting right after the first 1. Then the part we cut off is also in <span class="math">\(S\)</span>.<br />Clearly, the first part can only be 1 or 01 or 001, because there cannot be 3 consecutive 0 and this is the first 1.<br />So we can represent the string as <span class="math">\(S = \set{1, 01, 001}S \cup \set{\epsilon, 0, 00}\)</span>, since <span class="math">\(\epsilon, 0, 00\)</span> are the only possible strings that cannot be represented using the recursion.<br />So the generating series is <span class="math">\(\Phi_S(x) = (x + x^2 + x^3)\Phi_S(x) + (1 + x + x^2)\)</span> and <span class="math">\(\Phi_S(x) - (x + x^2 + x^3)\Phi_S(x) = 1 + x + x^2\)</span>.<br />So <span class="math">\((1 - x - x^2 - x^3)\Phi_S(x) = 1 + x + x^2\)</span> and <span class="math">\(\Phi_S(x) = \frac{1 + x + x^2}{1 - x - x^2 - x^3}\)</span>.</p>
</blockquote>
<p>Let <span class="math">\(S\)</span> be the set of all binary strings without 1010 as a substring. What is the generating series?</p>
<blockquote>
<p>Let <span class="math">\(T\)</span> be the set of all string with exactly one copy of 1010 at the end.<br />We want to prove that <span class="math">\(\set{\epsilon} \cup S\set{0, 1} = S \cup T\)</span>.<br />Cleary, <span class="math">\(\set{\epsilon} \cup S\set{0, 1} \subseteq S \cup T\)</span> is true because <span class="math">\(\set{\epsilon} \in S \cup T\)</span> and either <span class="math">\(S\set{0, 1}\)</span> has no 1010 (so it is in <span class="math">\(S\)</span>), or it does and the 1010 is at the end (so it is in <span class="math">\(T\)</span>).<br />Clearly, <span class="math">\(S \cup T \subseteq \set{\epsilon} \cup S\set{0, 1}\)</span> because any string <span class="math">\(a\)</span> in <span class="math">\(S\)</span> is either <span class="math">\(\epsilon\)</span> or not, in which case removing the last bit get another string <span class="math">\(a\)</span> implies <span class="math">\(a \in S\set{0, 1}\)</span>, and because any string <span class="math">\(a\)</span> in <span class="math">\(T\)</span> is either epsilon or not, in which case removing the last bit means it has no 1010 and <span class="math">\(a \in S\set{0, 1}\)</span>.<br />So <span class="math">\(\set{\epsilon} \cup S\set{0, 1} \subseteq S \cup T\)</span>.<br />We want to prove that <span class="math">\(S\set{1010} = T \cup \)</span>T<span class="math">\(.   Clearly, \)</span>S T T$ any <span class="math">\(a \in S\)</span> either ends with 10 or not. If not, then <span class="math">\(S\set{1010}\)</span> has only one instance of 1010, so <span class="math">\(S\set{1010} \in T\)</span>. If it does, <span class="math">\(S\set{1010}\)</span> has two copies of 1010 and ends in 101010, so <span class="math">\(S\set{1010} \in T\set{10}\)</span>.<br />Clearly, <span class="math">\(T \cup T\set{10} \subseteq S\set{1010}\)</span> because taking the last four bits off any <span class="math">\(a \in T\)</span> to get <span class="math">\(a&#39;\)</span> means that <span class="math">\(a&#39; \in S\)</span>.<br />Since <span class="math">\(\set{\epsilon} \cup S\set{0, 1} = S \cup T\)</span>, <span class="math">\(1 + 2x\Phi_S(x) = \Phi_S(x) + \Phi_T(x)\)</span>.<br />So <span class="math">\(S\set{1010} = T \cup \)</span>T<span class="math">\(.   Since \)</span>S = T <span class="math">\(T\set{10}\)</span>, <span class="math">\(x^4\Phi_S(x) = \Phi_T(x) + x^2\Phi_T(x)\)</span>, so <span class="math">\(\Phi_T(x) = \frac{x^4}{1 + x^2}\Phi_S(x)\)</span>.<br />Solving, we get <span class="math">\(\Phi_S(x) = \frac 1 {1 - 2x + \frac{x^4}{1 + x^2}} = \frac{1 + x^2}{1 - 2x + x^2 - 2x^3 + x^4}\)</span>.</p>
</blockquote>
<h2 id="coefficients-of-rational-expressions">Coefficients of Rational Expressions</h2>
<p>Let <span class="math">\(A(x) = \sum_{n = 0}^\infty a_nx^n = \frac{6 - x + 5x^2}{1 - 3x^2 - 2x^3}\)</span>.</p>
<p>Then <span class="math">\(A(x) = \frac{6 - x + 5x^2}{(1 - 2x)(1 + x)^2}\)</span> by factoring.</p>
<p>Then we find the partial fraction decomposition: <span class="math">\(A(x) = \frac A {1 - 2x} + \frac B {1 + x} + \frac C {(1 - x)^2}\)</span>, where <span class="math">\(\frac{A(1 + x)(1 + x)^2 + B(1 - 2x)(1 + x)^2 + C(1 - 2x)(1 + x)}\)</span>.</p>
<p>Solving, we get <span class="math">\(A(x) = \frac 3 {1 - 2x} - \frac 1 {1 + x} + \frac 4 {(1 + x^2)}\)</span>.</p>
<p>Then <span class="math">\([x^n]A(x) = [x^n]\frac 3 {1 - 2x} - [x^n]\frac 1 {1 + x} + [x^n]\frac 4 {(1 + x^2)^2} = [x^n]3\sum_{i = 0}^\infty 2^ix^i - [x^n]\sum_{i = 0}^\infty (-1)^ix^i + [x^n]4\sum_{i = 0}^\infty {i + 2 - 1 \choose 2 - 1}x^i = 3 \times 2^n - (-1)^n + {n + 1 \choose 1} = 3 \times 2^n - (-1)^n + n + 1\)</span>.</p>
<p>So <span class="math">\([x^n]A(x) = 3 \cdot 2^n + (-1)^n(4n + 3)\)</span>.</p>
<p>In general, if <span class="math">\(A(x) = \frac{f(x)}{g(x)}\)</span> where the degree of the numerator is lower than that of the denominator, and <span class="math">\(g(x)\)</span> can be factored into <span class="math">\(g(x) = (1 - r_1x)^{e_1} \cdots (1 - r_nx)^{e_n}\)</span>, then using partial fractions, there exist constants <span class="math">\(C_{i, j}\)</span> such that <span class="math">\(A(x) = \left(\frac{C_{1, 1}}{1 - r_1x} + \ldots + \frac{C_{1, e_1}}{1 - r_1x}^{e_1}\right) + \ldots + \left(\frac{C_{n, 1}}{1 - r_nx} + \ldots + \frac{C_{n, e_1}}{1 - r_nx}^{e_1}\right)\)</span>. Given this, we can expand the series of each fraction into power series, and after that it is easy to find the coefficients.</p>
<p>The basic technique is to get the partial fraction decomposition, expand the power series, and then get the coefficient values from the power series.</p>
<h1 id="section-13">6/6/14</h1>
<p>Let <span class="math">\(A(x) = \frac{f(x)}{g(x)}\)</span>. Let <span class="math">\(g(x) = (1 - r_1x)^{e_1} \cdots (1 - r_k)^{e_k}\)</span>. If the constant term of <span class="math">\(g(x)\)</span> is not 1, then divide both <span class="math">\(f(x)\)</span> and <span class="math">\(g(x)\)</span> by that term to make it 1. ;wip: what if there is no constant term?</p>
<p>In general, <span class="math">\([x^n]A(x) = a_n = (C_{1, 1}{n + 1 - 1 \choose 1 - 1}r_1^n + \ldots + C_{1, e_1}{n + e_1 - 1 \choose e_1 - 1}r_1^n) + (C_{k, 1}{n + 1 - 1 \choose 1 - 1}r_k^n + \ldots + C_{k, e_k}{n + e_k - 1 \choose e_k - 1}r_k^n)\)</span>.</p>
<p>Clearly, <span class="math">\({n + e_i - 1 \choose e_i - 1} = \frac{(n + e_i - 1)!}{(e_i - 1)!n!} = \frac{(n + e_i - 1) \cdots (n + 1)}{(e_i - 1)!}\)</span>, so it is a polynomial of degree <span class="math">\(e_i - 1\)</span>. So <span class="math">\(A(x) = p_1(n)r_1^n + \ldots + A(x) = p_k(n)r_k^n\)</span>, where <span class="math">\(p_i(n)\)</span> has a degree less than or equal to <span class="math">\(e_i - 1\)</span>.</p>
<p>Recall that <span class="math">\(g(x) = (1 - r_1x)^{e_1} \cdots (1 - r_nx)^{e_n}\)</span>. Then we construct <span class="math">\(g^*(x) = (x - r_1)^{e_1} \cdots (x - r_k)^{e_k}\)</span>. This is the <strong>characteristic polynomial</strong> of <span class="math">\(g(x)\)</span>. It has roots <span class="math">\(r_1, \ldots, r_k\)</span> and <span class="math">\(r_i\)</span> has multiplicity <span class="math">\(e_i\)</span>. The characteristic polynomial is just the one where there is a root for each <span class="math">\(r_i\)</span>.</p>
<p>In the above example, the characteristic polynomial of <span class="math">\(g(x)\)</span> is <span class="math">\(g^*(x) = (x - 2)(x + 1)^2 = x^3 - 3x - 2\)</span>. Note that the polynomial is exactly the same, except the power of <span class="math">\(x\)</span> in each term is swapped - <span class="math">\(x^i\)</span> in each term is replaced with <span class="math">\(x^{n - i}\)</span>. This is a faster way to find the characteristic polynomial.</p>
<p>Then <span class="math">\([x^n]A(x) = \alpha 2^n + (\beta n + \gamma)(-1)^n\)</span> for constants <span class="math">\(\alpha, \beta, \gamma\)</span>. Using the <span class="math">\(A(x) = \sum_{i = 0}^\infty a_ix^i = \frac{6 - x + 5x^2}{(1 - 2x)(1 + x)^2}\)</span> and multiplying both sides by <span class="math">\(g(x)\)</span> and solving, we get <span class="math">\(a_0 = 6, a_1 = -1, a_2 = 23\)</span>.</p>
<p>Clearly, <span class="math">\(a_n = [x^n]A(x)\)</span>, so given these three values, we get <span class="math">\(a_0 = \alpha 2^0 + (\beta 0 + \gamma)(-1)^0, a_1 = \alpha 2^1 + (\beta 1 + \gamma)(-1)^1, a_2 = \alpha 2^2 + (\beta 2 + \gamma)(-1)^2\)</span>. Solving, we get <span class="math">\(\alpha = 3, \beta = 4, \gamma = 3\)</span>, so <span class="math">\(a_n = 3 \times 2^n + (2n + 3)(-1)^n\)</span>.</p>
<h2 id="solving-homogeneous-recurrences">Solving Homogeneous Recurrences</h2>
<p>Given <span class="math">\(A(x) = \sum_{n = 0}^\infty a_nx^n\)</span> where <span class="math">\(a_0 = 1, a_1 = 4, a_n - 3a_{n - 1} + 2a_{n - 2} = 0\)</span>, find the explicit formula for <span class="math">\(a_n\)</span>:</p>
<blockquote>
<p>First, we multiply <span class="math">\(x^n\)</span> with the recurrence, so <span class="math">\(a_nx^n - 3a_{n - 1}x^n + 2a_{n - 2}x^n = 0\)</span>.<br />If we sum all of them to infinity, <span class="math">\(\sum_{n = 2}^\infty (a_nx^n - 3a_{n - 1}x^n + 2a_{n - 2}x^n) = 0 = \sum_{n = 2}^\infty a_nx^n - 3\sum_{n = 1}^\infty a_nx^{n + 1} + 2\sum_{n = 0}^\infty a_nx^{n + 2}\)</span>.<br />So <span class="math">\(\sum_{n = 2}^\infty a_nx^n - 3x\sum_{n = 1}^\infty a_nx^n + 2x^2\sum_{n = 0}^\infty a_nx^n = 0\)</span>.<br />Clearly, <span class="math">\(\sum_{n = 2}^\infty a_nx^n = A(x) - a_1x^1 - a_0x^0\)</span> (removing the first two terms) and <span class="math">\(\sum_{n = 1}^\infty a_nx^{n + 1} = A(x) - a_0x^0\)</span>.<br />So <span class="math">\(A(x) - a_1x^1 - a_0x^0 - 3x(A(x) - a_0x^0) + 2x^2A(x) = 0\)</span> and solving, we get <span class="math">\(A(x) = \frac{1 + x}{1 - 3x + 2x^2}\)</span>.<br />Clearly, the characteristic polynomial of the denominator of <span class="math">\(A(x)\)</span> is <span class="math">\(x^2 - 3x + 2 = (x - 2)(x - 1)\)</span>.<br />So there are roots 1 and 2, both with multiplicity 1, and so <span class="math">\(a_n = \alpha 2^n + \beta 1^n\)</span> for some constants <span class="math">\(\alpha, \beta\)</span>.<br />So <span class="math">\(a_0 = \alpha 2^0 + \beta 1^0\)</span> and <span class="math">\(a_1 = \alpha 2^1 + \beta 1^1\)</span>, and solving, we get <span class="math">\(\alpha = 3, \beta = -2\)</span>.<br />So <span class="math">\(a_n = 3 \times 2^n - 2\)</span>.</p>
</blockquote>
<p>In fact, we can just do it directly from the recurrence relation: <span class="math">\(a_n - 3a_{n - 1} + 2a_{n - 2}\)</span> can directly be cconverted into the characteristic polynomial <span class="math">\(x^2 - 3x + 2\)</span>, and we can solve for <span class="math">\(a_n\)</span> directly using <span class="math">\(a_n = C_{1, 1}{n + 1 - 1 \choose 1 - 1}r_1^n + \ldots + C_{1, e_1}{n + e_1 - 1 \choose e_1 - 1}r_1^n + C_{k, 1}{n + 1 - 1 \choose 1 - 1}r_k^n + \ldots + C_{k, e_k}{n + e_k - 1 \choose e_k - 1}r_k^n\)</span>, where <span class="math">\(r_1, \ldots, r_k\)</span> are the roots of the characteristic polynomial and <span class="math">\(e_1, \ldots, e_k\)</span> are the multiplicities of the roots. We can then solve for <span class="math">\(C_{1, 1}, \ldots, C_{k, e_k}\)</span> using the initial conditions.</p>
<p>This can also be written as <span class="math">\(a_n = \left(C_{1, 1}{n + 1 - 1 \choose 1 - 1} + \ldots + C_{1, e_1}{n + e_1 - 1 \choose e_1 - 1}\right)r_1^n + \left(C_{k, 1}{n + 1 - 1 \choose 1 - 1} + \ldots + C_{k, e_k}{n + e_k - 1 \choose e_k - 1}\right)r_k^n\)</span>.</p>
<h1 id="section-14">9/4/14</h1>
<p>Basic steps for solving homogeneous recurrences:</p>
<ol style="list-style-type: decimal">
<li>Find the characteristic polynomial by reversing the powers of the denominator.</li>
<li>Find the roots of the characteristic polynomial.</li>
<li>Starting with an empty general solution, for each root <span class="math">\(r\)</span> with multiplicity <span class="math">\(k\)</span>, we add <span class="math">\(p(n)r^n\)</span> to the general solution, where <span class="math">\(p(n)\)</span> is a polynomial of degree <span class="math">\(k - 1\)</span>.</li>
<li>Use initial conditions to solve for unknown constants.</li>
</ol>
<p>Find a closed form for <span class="math">\(a_n\)</span> where <span class="math">\(a_0 = 1, a_1 = 2, a_2 = 1, a_n - 3a_{n - 1} + 3a_{n - 2} - a_{n - 3} = 0\)</span>:</p>
<blockquote>
<p>Clearly, the characteristic polynomial is <span class="math">\(x^3 - 3x^2 + 3x - 1\)</span>, which we get by writing out the coefficients of <span class="math">\(a_n, a_{n - 1}, \ldots\)</span> and writing powers of <span class="math">\(x\)</span> beside them.<br />Factoring, we get <span class="math">\(x^3 - 3x^2 + 3x - 1 = (x - 1)^3\)</span>. So there is one root, 1, with multiplcity 3.<br />So <span class="math">\(a_n = p(n)r^k = (An^2 + Bn + C)1^n = An^2 + Bn + C\)</span>. We know that <span class="math">\(p(n) = An^2 + Bn + C\)</span> because it is an arbitrary polynomial of degree at most 2.<br />So <span class="math">\(a_0 = 1 = A0^2 + B0 + C, a_1 = 2 = A1^2 + B1 + C, a_2 = A2^2 + B2 + C\)</span>. Solving, we get <span class="math">\(A = -1, B = 2, C = 1\)</span>.<br />So <span class="math">\(a_n = -n^2 + 2n + 1\)</span>.<br />Note that <span class="math">\(a_n = O(n^2)\)</span>.</p>
</blockquote>
<p>Also, <span class="math">\(1 + \sqrt{5} = \phi\)</span>, the golden ratio.</p>
<p>Find the closed form for the Fibonacci sequence, <span class="math">\(a_0 = 0, a_1 = 1, a_n - a_{n - 1} - a_{n - 2} = 0\)</span>:</p>
<blockquote>
<p>Clearly, the characteristic formula is <span class="math">\(x^2 - x - 1 = (x - \frac{1 + \sqrt{5}}{2})(x - \frac{1 - \sqrt{5}}{2})\)</span>.<br />So <span class="math">\(a_n = A\left(\frac{1 + \sqrt{5}}{2}\right)^n + B\left(\frac{1 - \sqrt{5}}{2}\right)^n\)</span>.<br />Solving, we get <span class="math">\(A = \frac 1 {\sqrt{5}}, B = -\frac 1 {\sqrt{5}}\)</span>.<br />So <span class="math">\(a_n = \frac{\left(\frac{1 + \sqrt{5}}{2}\right)^n - \left(\frac{1 - \sqrt{5}}{2}\right)^n}{\sqrt{5}}\)</span>.</p>
</blockquote>
<h3 id="non-homogeneous-recurrences">Non-homogeneous Recurrences</h3>
<p>Homogeneous recurrences are those where the constant term is 0. For example, <span class="math">\(a_n + a_{n - 1} = 0\)</span> - the right side is 0.</p>
<p>A non-homogeneous recurrence is therefore one that has a non-zero constant term.</p>
<p>For example, <span class="math">\(a_0 = 11, a_1 = 42, a_n - 3a_{n - 1} + 2a_{n - 2} = 10 \times 3^{n - 1}\)</span>.</p>
<p>Suppose <span class="math">\(b_n\)</span> satisfies <span class="math">\(b_n - 3b_{n - 1} + 2b_{n - 2} = 10 \times 3^{n - 1}\)</span> (it has the same recursive part as <span class="math">\(a_n\)</span>), but does not necessarily satisfy the initial conditions.</p>
<p>Then <span class="math">\((a_n - b_n) - 3(a_{n - 1} - b_{n - 1}) + 2(a_{n - 2} - b_{n - 2}) = 0\)</span>. So <span class="math">\(a_n - b_n\)</span> is a homogeneous version of the recurrence.</p>
<p>So the characteristic polynomial is <span class="math">\(x^2 - 3x + 2 = (x - 2)(x - 1)\)</span> with roots 1 and 2, so <span class="math">\(a_n - b_n = A1^n + B2^n\)</span>, so <span class="math">\(a_n = b_n + A + B2^n\)</span>.</p>
<p><span class="math">\(b_n\)</span> is called the <strong>specific solution</strong>, and <span class="math">\(A + B2^n\)</span> is the solution to the homogeneous version. This is reminiscent of LDEs in MATH135, where the general solution to an LDE is a specific solution plus an offset.</p>
<p>We can find <span class="math">\(b_n\)</span> by using guess and check.</p>
<p>We guess <span class="math">\(b_n = C3^n\)</span>. Then <span class="math">\(b_n - 3b_{n - 1} + 2b_{n - 2} = C3^n - 3C2^{n - 1} + 2C3^{n - 2} = C3^{n - 2}(3^2 - 3 \cdot 3 + 2) = 2C3^{n - 2}\)</span>, and <span class="math">\(b_n = 10 \cdot 3^{n - 1} = 2C3^{n - 2}\)</span>.</p>
<p>Solving, <span class="math">\(C = 15\)</span> and <span class="math">\(b_n = C3^n = 15 \cdot 3^n\)</span>.</p>
<p>So <span class="math">\(a_n = 15 \cdot 3^n + A + B2^n\)</span>.</p>
<p>Why did we guess <span class="math">\(b_n = C3^n\)</span>? We determined this from the generating series.</p>
<p>If we multiply <span class="math">\(b_n - 3b_{n - 1} + 2b_{n - 2} = 10 \times 3^{n - 1}\)</span> by <span class="math">\(x^n\)</span> and sum over <span class="math">\(n \ge 2\)</span>, then we get <span class="math">\(\sum_{n = 2}^\infty (b_nx^n - 3b_{n - 1}x^n + 2b_{n - 2}x^n) = \sum_{n = 2}^\infty 10 \cdot 3^{n - 1}x^n\)</span>.</p>
<p>So <span class="math">\(\sum_{n = 2}^\infty (b_nx^n - 3b_{n - 1}x^n + 2b_{n - 2}x^n) = \sum_{n = 2}^\infty b_nx^n - 3x\sum_{n = 2}^\infty b_{n - 1}x^{n - 1} + 2x^2\sum_{n = 2}^\infty b_{n - 2}x^{n - 2} = \sum_{n = 2}^\infty b_nx^n - 3x\sum_{n = 1}^\infty b_nx^n + 2x^2\sum_{n = 0}^\infty b_nx^n\)</span></p>
<p>So <span class="math">\((1 - 3x + 2x^2)\sum_{n = 0}^\infty b_n x^n = \frac{10}{3} (3^2 x^2) \frac 1 {1 - 3x} = \frac{30x^2}{1 - 3x}\)</span>. ;wip: no it doesn't...</p>
<p>Using partial fraction decomposition, <span class="math">\(\sum_{n = 0}^\infty b_n x^n = \frac{30x^2}{(1 - 3x)(1 - 3x + 2x^2)} = \frac \ldots {1 - 3x} + \frac \ldots {1 - 2x} + \frac \ldots {1 - x}\)</span>. Note that <span class="math">\(\frac \ldots {1 - 3x}\)</span> is the result of the homogeneous part, so ;wip: what does that even mean</p>
<p>Find a closed form for <span class="math">\(a_0 = 2, a_1 = 3, a_n - a_{n - 1} - 2a_{n - 2} = -4n + 16\)</span>:</p>
<blockquote>
<p>Let <span class="math">\(b_n = An + B\)</span> for some <span class="math">\(A, B\)</span> ;wip</p>
</blockquote>
<h1 id="section-15">11/6/14</h1>
<p>So to solve non-homogeneous recurrences:</p>
<ol style="list-style-type: decimal">
<li>Guess a specific solution.</li>
<li>Substitute <span class="math">\(a_n = b_n + \ldots\)</span> to get a a homogeneous recurrence.</li>
<li>Use the initial conditions to find the unknowns. ;wip: rewrite these steps so they make sense</li>
</ol>
<p>Solve <span class="math">\(a_0 = 1, a_1 = 1, a_n - a_{n - 1} - 2a_{n - 2} = 3 \times 2^n, n \ge 2\)</span>:</p>
<blockquote>
<p>Guess <span class="math">\(b_n = \alpha 2^n\)</span>. Then <span class="math">\(b_n - b_{n - 1} - 2b_{n - 2} = \alpha 2^{2 - n}(2^2 - 2^1 - 2 \times 2^0) = 0\)</span>. Clearly, this guess is wrong because <span class="math">\(0 \ne \alpha 2^n\)</span> for all <span class="math">\(n\)</span>.<br />Guess <span class="math">\(b_n = \alpha n 2^n\)</span>. Then <span class="math">\(b_n - b_{n - 1} - 2b_{n - 2} = \alpha 2^{2 - n}(n2^2 - (n - 1)2^1 - (n - 2)2 \times 2^0) = \alpha n2^{n - 2}(2^2 - 2^1 - 2 \times 2^0 ) + \alpha 2^{n - 2}(2^1 + 4 \times 2^0) = 3 \alpha 2^{n - 1}\)</span>.<br />Then <span class="math">\(3 \alpha 2^{n - 1} = 3 \times 2^n\)</span>, so <span class="math">\(\alpha = 2\)</span> and <span class="math">\(b_n = 2n 2^2 = n2^{n + 1}\)</span>.<br />With a characteristic polynomial of <span class="math">\(x^2 - x - 2 = (x - 2)(x + 1)\)</span>, <span class="math">\(a_n = n2^{n + 1} + A2^n + B(-1)^n\)</span>.<br />With <span class="math">\(a_0 = 1, a_1 = 1\)</span>, <span class="math">\(A = -1, B = 1\)</span>. So <span class="math">\(a_n = n2^{n + 1} - 2^n + (-1)^n\)</span>.<br />We guessed <span class="math">\(b_n = \alpha n 2^n\)</span> for a reason.<br />If we multiply <span class="math">\(a_n - a_{n - 1} - 2a_{n - 2} = 3 \times 2^n\)</span> by <span class="math">\(x^n\)</span> and sum it over all <span class="math">\(n \ge 2\)</span>, we get <span class="math">\((1 - x - x^2) A(x) = 3 \sum_{n = 2}^\infty 2^nx^n = \frac{3 \times 2^2x^n}{1 - 2x}\)</span> for some <span class="math">\(A(x)\)</span> that we want to find.<br />Using partial fraction decomposition, <span class="math">\(A(x) = \frac{\ldots}{(1 - x - 2x^2)(1 - 2x)} = \frac{\ldots}{(1 - x - 2x^2)(1 - 2x)} = \frac{\ldots}{1 + x} + \frac{\ldots}{1 - 2x} + \frac{\ldots}{(1 - 2x)^2}\)</span>.<br />The <span class="math">\(\frac{\ldots}{(1 - 2x)^2}\)</span> is the non-homogenous part, so the we have <span class="math">\(n2^n\)</span> ;wip: what? how? why?</p>
</blockquote>
<p>In general, if a recurrence equals <span class="math">\(kp^n\)</span> where <span class="math">\(p\)</span> is a root of the characteristic polynomial with multiplicity <span class="math">\(k\)</span>, then we should use <span class="math">\(b_n = \alpha n^{k - 1} p^n\)</span> as a guess.</p>
<h2 id="graph-theory">Graph Theory</h2>
<h3 id="definitions">Definitions</h3>
<p>A <strong>graph</strong> is a pair <span class="math">\(G = (V(G), E(G))\)</span> where <span class="math">\(V(G)\)</span> is a set of objects called <strong>vertices</strong>, and <span class="math">\(E(G)\)</span> is a set of unordered pairs of <span class="math">\(V(G)\)</span> called <strong>edges</strong> (these pairs are basically just 2-subsets of <span class="math">\(V(G)\)</span>).</p>
<p>For example, <span class="math">\(G = \left(\set{a, b, c, d}, \set{\set{a, b}, \set{b, c}, \set{c, d}, \set{a, d}}\right)\)</span> is a graph.</p>
<p>We often represent graphs graphically, by drawing the vertices on a 2D surface as labelled circles or dots, and edges as lines or curves connecting the vertices they contain. Graphical representations are not unique - the vertices in the drawing can be arranged arbitrarily on the surface and the edges can be drawn as any kind of curvy line.</p>
<p>Let <span class="math">\(G\)</span> be a graph. Let <span class="math">\(u, v \in V(G)\)</span>.</p>
<p>Then <span class="math">\(u\)</span> and <span class="math">\(v\)</span> are <strong>adjacent</strong> if there is an edge connecting the two. Formally, <span class="math">\(u, v\)</span> are adjacent if <span class="math">\(\set{u, v} \in E(G)\)</span>.</p>
<p>If <span class="math">\(u\)</span> is adjacent to <span class="math">\(v\)</span>, then <span class="math">\(u\)</span> is a <strong>neighbour</strong> of <span class="math">\(v\)</span>.</p>
<p>The set of all the neighbors of <span class="math">\(u\)</span> is called the <strong>neighbourhood</strong>. Formally, the neighourhood of <span class="math">\(u\)</span> is <span class="math">\(\set{v \middle| \set{v} \in \set{e \setminus \set{u} \middle| \set{e \in E(G) \middle| u \in e}}}\)</span></p>
<p>An edge <span class="math">\(e = \set{u, v}\)</span> is <strong>incident</strong> with <span class="math">\(u\)</span> and <span class="math">\(v\)</span>.</p>
<p>Graphs have lots of applications. For example, modelling computer networks to determine robustness and other properties. Other applications include electronic circuits, electricity and water distribution networks, road maps and navigation, social graphs, and more.</p>
<p>The map colouring problem asks how many colors are needed to shade in a geographical map such that no two adjacent (sharing a border of non-zero length) geopolitical regions have the same colour.</p>
<h1 id="section-16">13/6/14</h1>
<p>The vertices in a graph can be any type of object. We can abbeviate the edge <span class="math">\(\set{u, v}\)</span> as <span class="math">\(uv\)</span>.</p>
<p>In this course we only deal with simple graphs - graphs with at most one edge between two vertices (no loops or double edges joining two vertices). Graphs in this course are also finite.</p>
<h2 id="isomorphism">Isomorphism</h2>
<p>Two graphs <span class="math">\(G_1, G_2\)</span> are <strong>isomorphic</strong> if and only if there is a bijection <span class="math">\(f: V(G_1) \to V(G_2)\)</span> such that <span class="math">\(uv \in E(G_1) \iff f(u)f(v) \in E(G_2)\)</span>. If this is the case, then <span class="math">\(f\)</span> is called an <strong>isomorphism</strong>.</p>
<p>In other words, two graphs are isomorphic if they have the <strong>same structure</strong> - if they have every vertex correspend to each other, and the edges in one graph connect the corresponding vertices in the other graph.</p>
<p>Basically, a graph <span class="math">\(G_2\)</span> that is isomorphic to a graph <span class="math">\(G_1\)</span> can be created from <span class="math">\(G_1\)</span> by replacing its vertices with vertices in <span class="math">\(G_2\)</span>.</p>
<p>The isomorphism preserves the edge structure, so edges are mapped to edges, and non-edges are mapped to non-edges.</p>
<p>We can detect isomorphism informally by moving the vertices around until the two graphs resemble each other.</p>
<p>Checking if two graphs are isomorphic can be done in polynomial time, using recently developed algorithms.</p>
<p>To prove two graphs are isomorphic, we find the isomorphism. To prove two graphs are not isoomorphic, we find a structure in one graph that is not in the other.</p>
<p>The degree of a vertex <span class="math">\(u\)</span> in <span class="math">\(G\)</span> is the number of edges incident with it. The degree of a vertex is <span class="math">\(\deg_G(v) = \abs{\set{e \in E(G) \middle| v \in e}}\)</span>.</p>
<p>The sum of the degrees of every vertex in a graph <span class="math">\(G\)</span> has a special meaning and is <span class="math">\(\sum_{u \in V(G)} \deg_G(u)\)</span>. The sum is always even because every edge <span class="math">\(\set{u, v}\)</span> increases both <span class="math">\(\deg_G(u)\)</span> and <span class="math">\(\deg_G(v)\)</span> by 1. This is called the <strong>handshaking lemma</strong>, and <span class="math">\(\sum_{u \in V(G)} \deg_G(u) = 2 \abs{E(G)}\)</span>.</p>
<p>As a result, the number of odd-degree vertices must always be even.</p>
<p>Proof:</p>
<blockquote>
<p>Let <span class="math">\(O\)</span> be the subset of vertices in <span class="math">\(G\)</span> with odd degree and <span class="math">\(E\)</span> the subset with even degree.<br />Then <span class="math">\(\sum_{u \in V(G)} \deg_G(u) = \sum_{v \in O} \deg_G(v) + \sum_{v \in E} \deg_G(v) = 2\abs{E(G)}\)</span>.<br />Since <span class="math">\(2\abs{E(G)}\)</span> and <span class="math">\(\sum_{v \in E} \deg_G(v)\)</span> are even (sum of even numbers is even), <span class="math">\(\sum_{v \in O} \deg_G(v)\)</span> must also be even.<br />Since every <span class="math">\(\deg_G(v)\)</span> in <span class="math">\(\sum_{v \in O} \deg_G(v)\)</span> is odd, <span class="math">\(\sum_{v \in O} \deg_G(v)\)</span> can only be even if <span class="math">\(\abs{O}\)</span> is even.<br />So there are an even number of odd vertices.</p>
</blockquote>
<h1 id="section-17">16/6/14</h1>
<p>A <strong>cycle</strong> is a closed path through three or more vertices (for the simple graphs we are using in this course).</p>
<p>A graph <span class="math">\(G\)</span> is <span class="math">\(k\)</span>-regular if every vertex has a degree of <span class="math">\(k\)</span> - <span class="math">\(\forall v \in V(G), \deg(v) = k\)</span>. So a 0-regular graph has no edges, and a 1-regular graph has pairs of vertices joined by edges (these are also called matchings). 2-regular graphs have their vertices all connected by a closed path of edges, called a collection of cycles. A 3-regular graph does not lend itself to a simple description, and so on.</p>
<p>Clearly, the sum of vertices in a <span class="math">\(k\)</span>-regular graph is <span class="math">\(\sum_{v \in V(G)} \deg(v) = \abs{V(G)}k\)</span>, so by the handshaking lemma <span class="math">\(\abs{E(G)} = \frac{\abs{V(G)}k}{k}\)</span>.</p>
<p>A graph <span class="math">\(G\)</span> is <strong>complete</strong> if every pair of vertices in <span class="math">\(G\)</span> is joined by an edge. A complete graph with <span class="math">\(n\)</span> vertices is represented by <span class="math">\(k_n\)</span>. Therefore the number of edges is the same as the number of pairs of vertices. There are <span class="math">\(n \choose 2\)</span> pairs, so there are <span class="math">\(n \choose 2\)</span> edges in <span class="math">\(k_n\)</span>.</p>
<p>Also, <span class="math">\(k_n\)</span> is <span class="math">\((n - 1)\)</span>-regular, because each vertex must connect with <span class="math">\(n - 1\)</span> other vertices.</p>
<p>A partition of a set <span class="math">\(S\)</span> is a pair <span class="math">\((A, B)\)</span> such that <span class="math">\(A \cup B = S, A \cap B = \emptyset\)</span>. In other words, a way of dividing the set into two groups.</p>
<p>A graph <span class="math">\(G\)</span> is <strong>bipartite</strong> if there is a partition of <span class="math">\(V(G)\)</span> into <span class="math">\((A, B)\)</span> such that <span class="math">\(G\)</span> has every edge in <span class="math">\(\set{\set{u, v} \middle| u \in A, v \in B}\)</span>. In other words, if there is a partition such that the edges go between the two partitioned areas, but not within the partitioned areas. The two partitions do not necessarily have the same size.</p>
<p>We prove a graph is bipartite by giving the partition, and we prove that a graph is not bipartite by contradiction - assuming that one vertex is in partition <span class="math">\(A\)</span>, any vertex connected by an edge must be in <span class="math">\(B\)</span>, and we try to derive a contradiction where a vertex is in <span class="math">\(A\)</span> yet also in <span class="math">\(B\)</span>, since <span class="math">\(A \cap B = \emptyset\)</span>.</p>
<p>Any graph containing a cycle containing an odd number of vertices cannot be bipartite. Every graph is either bipartite, or has a cycle with an odd number of vertices.</p>
<p>A graph <span class="math">\(G\)</span> is a <strong>complete bipartite graph</strong> if <span class="math">\(G\)</span> is bipartite with partitions <span class="math">\((A, B)\)</span> and has every edge in <span class="math">\(\set{\set{u, v} \middle| u \in A, v \in B}\)</span>. In other words, a biparitite graph with every possible pair of vertices with one from <span class="math">\(A\)</span> and one from <span class="math">\(B\)</span> are connected by edges. A complete bipartite graph with <span class="math">\(\abs{A} = m, \abs{B} = n\)</span> is represented by <span class="math">\(k_{m, n}\)</span>.</p>
<p>Every vertex of <span class="math">\(A\)</span> must be connected with every element of <span class="math">\(B\)</span>, and every element of <span class="math">\(B\)</span> must be connected with every element of <span class="math">\(A\)</span>, so the total number of edges in <span class="math">\(k_{m, n}\)</span> is <span class="math">\(mn\)</span>. The degree of every vertex in <span class="math">\(A\)</span> is <span class="math">\(n\)</span> and the degree of every vertex in <span class="math">\(B\)</span> is <span class="math">\(m\)</span>.</p>
<h2 id="n-cubes">N-cubes</h2>
<p>An <span class="math">\(n\)</span>-cube is a graph where the vertices are all binary strings of length <span class="math">\(n\)</span> and two vertices are connected by an edge if and only if they differ by one bit. The 1-cube looks like a line, the 2-cube looks like a square, and the 3-cube looks like a 2D projection of a 3D cube.</p>
<h1 id="section-18">18/6/14</h1>
<p>The <span class="math">\(n\)</span>-cube has <span class="math">\(2^n\)</span> vertices, and is always an <span class="math">\(n\)</span>-regular graph. It is regular because there are always <span class="math">\(n\)</span> ways to have a binary string differ by 1 bit, so every binary string is connected to <span class="math">\(n\)</span> other binary strings.</p>
<p>By the handshaking lemma, there are <span class="math">\(\frac 1 2 n2^n = n2^{n - 1}\)</span> edges in an <span class="math">\(n\)</span>-cube. The <span class="math">\(n\)</span>-cube is also bipartite, because it is impossible for any cycles with odd numbers of vertices to exist in the graph.</p>
<p>For example, a 3-cube can be partitioned into <span class="math">\(\left(\set{000, 101, 110, 011}, \set{001, 100, 111, 010}\right)\)</span>. In general, one parition has all binary strings with an even number of 1, and the other has those with an odd number of 1. This is because any binary string differs with another by one bit if and only if it has one less 1 or one more 1 than the other. Therefore, no two binary strings with an even number of 1 can differ by 1 bit, and no two binary strings with an odd number of 1 can differ by 1 bit. Therefore, this partition shows that the <span class="math">\(n\)</span>-cube is bipartite.</p>
<p>It is possible to recursively construct the <span class="math">\(n\)</span>-cube. First, the 0-cube is a single vertex, <span class="math">\(\epsilon\)</span>. Given an <span class="math">\(n\)</span>-cube, we can find the graph for the <span class="math">\((n + 1)\)</span>-cube by making two copies of the <span class="math">\(n\)</span>-cube (with a 0 prepended to every string in the first copy and 1 prepended to every string in the second copy), and then joining the corresponding vertices of the two copies (which now differ by 1 bit since we prepended different values in each copy).</p>
<p>The <span class="math">\(n\)</span>-cube is an <span class="math">\(n\)</span>-dimensional analogue of a cube. A 2D drawing of a 4-cube is a 2D projection of a tesseract.</p>
<p>Also, any finite graph can be represented in 3D space such that there are no crossing edges. This is difficult to prove, however.</p>
<p>;wip: the midterm will cover everything up to this point, and the midterm is in like two weeks</p>
<h2 id="walkspaths">Walks/Paths</h2>
<p>Let <span class="math">\(u, w\)</span> be vertices of a graph <span class="math">\(G\)</span>.</p>
<p>Given vertices <span class="math">\(u, w\)</span>, a <span class="math">\(u, w\)</span> <strong>walk</strong> is a sequence of alternating vertices and edges <span class="math">\(u, e_1, v_1, e_2, v_2, \ldots, e_{k - 1}, v_{k - 1}, e_k, w\)</span>, where <span class="math">\(v_1, \ldots, v_k\)</span> are vertices and <span class="math">\(e_i, 1 \le i \le k\)</span> is the edge <span class="math">\(\set{v_{i - 1}, v_i}\)</span>. The length of this walk is <span class="math">\(k\)</span> - the number of edges in the walk.</p>
<p>The walk is <strong>closed</strong> if <span class="math">\(u = v\)</span> - if it begins the same place it ends. There can also be duplicated vertices or edges.</p>
<p>Since we only deal with simple graphs in this course, it is possible to represent a walk just by its vertices. So a walk of a 3-cube might be written as <span class="math">\(000, 001, 000, 100, 101\)</span>.</p>
<p>A walk of length 0 just contains one vertex. For example, <span class="math">\(000\)</span> is a zero-length walk of the 3-cube.</p>
<p>A <span class="math">\(u, w\)</span> <strong>path</strong> is a walk with no repeated vertices or edges. As a result, a path cannot be closed. All <span class="math">\(u, w\)</span> paths are <span class="math">\(u, w\)</span> walks.</p>
<p>All walks can be converted into paths. If we can get somewhere by repeating vertices, then we can also just not repeat those vertices and get to the same place.</p>
<hr>
<p>Copyright 2013 Anthony Zhang</p>
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/deed.en_US">Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</a>.
<script type="text/javascript">
MathJax.Hub.Config({
  jax: ["input/TeX","output/HTML-CSS"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  }
});
</script>
</body>
</html>